/*!
 * widgets
 * @version: 9.0.017.00
 * @license: Genesys Telecom Labs
 */
widgetsJsonpFunction([0],{"./node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./webapp/plugins/cx-webchat/less/cx-webchat.less":function(e,t,a){(e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".cx-webchat{position:fixed;bottom:0;width:320px;z-index:999997}.cx-webchat .cx-body{padding:0;overflow:visible;position:relative}.cx-webchat .cx-parentDisable{opacity:.2}.cx-webchat .cx-spinner{display:none;z-index:2;position:relative;top:100%;left:45%}.cx-webchat .cx-history-loading{padding:16px}.cx-webchat .cx-history-loading .cx-loading-icon{width:26px;height:26px;top:14px;left:-16px}.cx-webchat i.fonticon.icon-alert-triangle{color:#f8a740;display:inline}.cx-webchat p.cx-reason{display:inline}.cx-webchat .cx-hidden-message{display:none}.cx-webchat.cx-minimized .cx-body,.cx-webchat.cx-minimized .cx-footer{display:none!important}.cx-webchat.cx-mobile.cx-minimized{height:auto!important}.cx-webchat.cx-mobile{top:inherit!important;right:inherit!important;bottom:0!important;left:0!important;height:100%!important;width:100%!important}.cx-webchat.cx-mobile .cx-form{border-width:0;border-style:none;padding:24px;overflow:hidden;-webkit-overflow-scrolling:touch}.cx-webchat.cx-mobile .cx-footer{display:none}.cx-webchat.cx-mobile.cx-transcript-view .cx-footer{display:none!important}.cx-webchat.cx-theme-light .cx-message.cx-you .cx-bubble{background-color:#f2f4f7}.cx-webchat.cx-theme-light .cx-message.cx-them .cx-bubble{background-color:#ffc7b9}.cx-webchat.cx-theme-light .cx-message.cx-you .cx-bubble-arrow svg *{fill:#f2f4f7}.cx-webchat.cx-theme-light .cx-message.cx-them .cx-bubble-arrow svg *{fill:#ffc7b9}.cx-webchat.cx-theme-light .cx-time{color:#5c5c5b}.cx-webchat.cx-theme-light .cx-bubble-arrow svg{fill:#f2f4f7}.cx-webchat.cx-theme-light .cx-menu .cx-branding-icon svg *{fill:#8794ac}.cx-webchat.cx-theme-light .cx-input-container .cx-menu li.cx-char-count:focus,.cx-webchat.cx-theme-light .cx-input-container .cx-menu li.cx-icon:focus svg{border:1px solid #5292fc;border-width:2px}.cx-webchat.cx-theme-light .cx-input-container .cx-menu li{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.cx-webchat.cx-theme-light .cx-carousel .cx-next,.cx-webchat.cx-theme-light .cx-carousel .cx-previous{border-color:#8795a6}.cx-webchat.cx-theme-light .cx-carousel .cx-next:focus,.cx-webchat.cx-theme-light .cx-carousel .cx-previous:focus{border-color:#5292fc}.cx-webchat.cx-theme-light .cx-menu li.cx-char-count{color:#75757b}.cx-webchat.cx-theme-light .cx-char-count.cx-warning{color:#ea0b2e!important}.cx-webchat.cx-theme-light .cx-emoji-item:hover{background-color:#dfdfdf}.cx-webchat.cx-theme-light .cx-emoji-item:active{background-color:#ccc}.cx-webchat.cx-theme-dark .cx-menu .cx-branding-icon svg *{fill:#98a7b8}.cx-webchat.cx-theme-dark .cx-char-count.cx-warning{color:#f9768c!important}.cx-webchat.cx-theme-dark .cx-transcript .cx-filename,.cx-webchat.cx-theme-dark .cx-transcript .cx-filesize,.cx-webchat.cx-theme-dark .cx-transcript .cx-message-text,.cx-webchat.cx-theme-dark .cx-transcript .cx-name{color:#fdfdfd!important}.cx-webchat.cx-theme-dark .cx-transcript .cx-message{border-color:#222529}.cx-webchat.cx-theme-dark .cx-transcript .cx-message.cx-you .cx-bubble{background-color:#4a525b}.cx-webchat.cx-theme-dark .cx-transcript .cx-message.cx-them .cx-bubble{background-color:#3168d2}.cx-webchat.cx-theme-dark .cx-transcript .cx-message.cx-you .cx-bubble-arrow svg *{fill:#4a525b}.cx-webchat.cx-theme-dark .cx-transcript .cx-message.cx-them .cx-bubble-arrow svg *{fill:#3168d2}.cx-webchat.cx-theme-dark .cx-transcript .cx-time{color:#fff}.cx-webchat.cx-theme-dark .cx-alert>.cx-wrapper{background-color:#33383d;border-color:#222529;color:#fdfdfd}.cx-webchat.cx-theme-dark .cx-alert b.cx-link{color:#3963b8;word-break:break-all}.cx-webchat.cx-theme-dark .cx-webchat-smokescreen{background-color:#33383d}.cx-webchat.cx-theme-dark .cx-webchat .cx-tooltip-menu.cx-emoji .cx-option{color:#33383d}.cx-webchat.cx-theme-dark .cx-input-container .cx-menu li.cx-char-count:focus,.cx-webchat.cx-theme-dark .cx-input-container .cx-menu li.cx-icon:focus svg{border:1px solid #75a8ff;border-width:2px}.cx-webchat.cx-theme-dark .cx-input-container .cx-menu li{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.cx-webchat.cx-theme-dark .cx-carousel .cx-next:focus,.cx-webchat.cx-theme-dark .cx-carousel .cx-previous:focus{border-color:#75a8ff}.cx-webchat.cx-theme-dark .cx-emoji-item:hover{background-color:#444a52}.cx-webchat.cx-theme-dark .cx-emoji-item:active{background-color:#666f7a}.cx-webchat *{box-sizing:border-box}.cx-webchat .cx-alert{display:none;z-index:999999;position:absolute;top:0;left:0;width:100%}.cx-webchat .cx-alert.cx-normal-alert .cx-buttons-binary{display:none}.cx-webchat .cx-alert.cx-normal-alert .cx-button-single{display:block;text-align:center}.cx-webchat .cx-alert.cx-binary-alert .cx-binary-button{display:block}.cx-webchat .cx-alert.cx-binary-alert .cx-button-single{display:none}.cx-webchat .cx-alert>.cx-wrapper{margin:0 16px;background-color:#fff;padding:0 24px 24px;border:1px solid #eee}.cx-webchat .cx-alert>.cx-wrapper .cx-warning{padding-top:12px}.cx-webchat .cx-alert>.cx-wrapper .cx-warning .cx-icon{display:inline-block;vertical-align:bottom;height:24px;width:24px}.cx-webchat .cx-alert.cx-async-chat-end{position:relative}.cx-webchat .cx-webchat-smokescreen{background-color:#fff;opacity:.8;z-index:999998}.cx-webchat .cx-overlay,.cx-webchat .cx-webchat-smokescreen{display:none;height:100%;position:absolute;top:0;left:0;width:100%}.cx-webchat .cx-overlay{background-color:inherit;padding:20px;z-index:999999;-webkit-box-shadow:0 8px 11px -4px rgba(0,0,0,.3);box-shadow:0 8px 11px -4px rgba(0,0,0,.3)}.cx-webchat .cx-form{padding:24px 24px 0;border-width:0}.cx-webchat .cx-form table{width:100%;margin-bottom:16px}.cx-webchat .cx-form table td{width:100%;padding:4px 0}.cx-webchat .cx-form table th{padding-right:8px}.cx-webchat .cx-form .cx-button-group{padding-bottom:0}.cx-webchat .cx-form .cx-form-group{margin-bottom:8px}.cx-webchat .cx-form th .cx-control-label{white-space:nowrap!important}.cx-webchat .cx-form-wrapper{overflow:auto;position:relative;-webkit-overflow-scrolling:touch}.cx-webchat .cx-transcript{overflow-y:auto;overflow-x:hidden;height:312px;font-size:.75em;line-height:18px;display:none;-webkit-overflow-scrolling:touch;overscroll-behavior:none;position:relative;font-weight:300;padding:0 24px}.cx-webchat .cx-transcript .cx-push-url a{color:#75a8ff!important}.cx-webchat .cx-transcript .cx-message{min-height:48px;margin:0;box-sizing:border-box;position:relative}.cx-webchat .cx-transcript .cx-message .cx-bubble{padding:10px 15px;padding:16px}.cx-webchat .cx-transcript .cx-message .cx-bubble-arrow{position:absolute;top:12px}.cx-webchat .cx-transcript .cx-message .cx-name{font-weight:bolder;color:#222;padding-right:5px;display:inline-block;width:100%;white-space:nowrap;overflow:hidden!important;text-overflow:ellipsis}.cx-webchat .cx-transcript .cx-message .cx-time{display:block;font-size:.92em}.cx-webchat .cx-transcript .cx-message.cx-date{text-align:center;min-height:18px;line-height:12px;padding:3px 12px;border:1px solid #dae1e8;border-radius:14px;max-width:fit-content;margin:12px auto;display:table}.cx-webchat .cx-transcript .cx-message .cx-message-text{word-wrap:break-word;display:block}.cx-webchat .cx-transcript .cx-message .cx-message-text>p{margin:0;white-space:pre-line}@-moz-document url-prefix(){.cx-webchat .cx-transcript .cx-message .cx-message-text>p{white-space:pre-wrap}}.cx-webchat .cx-transcript .cx-message .cx-message-text>p img{width:100%}.cx-webchat .cx-transcript .cx-message .cx-avatar-wrapper{width:24px;position:absolute;top:2px}.cx-webchat .cx-transcript .cx-message .cx-avatar img{width:auto;height:100%}.cx-webchat .cx-transcript .cx-message>div.cx-NewTextBubble{-webkit-animation:NewTextBubble .5s 1;animation:NewTextBubble .5s 1}.cx-webchat .cx-transcript .cx-avatar{height:24px;width:24px}.cx-webchat .cx-transcript .cx-name{font-weight:bolder;color:#222;white-space:nowrap;text-overflow:ellipsis}.cx-webchat .cx-transcript .cx-time{font-size:11px;display:block;margin-bottom:5px}.cx-webchat .cx-transcript .cx-rich-message .cx-avatar{float:left}.cx-webchat .cx-transcript .cx-rich-message .cx-name{display:inline-block;margin:5px 0 0 10px}.cx-webchat .cx-transcript .cx-message.cx-system{background:none;padding:0;margin:13px 0}.cx-webchat .cx-transcript .cx-message.cx-system .cx-message-text,.cx-webchat .cx-transcript .cx-message.cx-system .cx-time{min-height:18px}.cx-webchat .cx-transcript .cx-message.cx-system .cx-bubble{padding:0;background-color:transparent}.cx-webchat .cx-transcript .cx-message.cx-system .cx-avatar-wrapper,.cx-webchat .cx-transcript .cx-message.cx-system .cx-bubble-arrow,.cx-webchat .cx-transcript .cx-message.cx-system .cx-name{display:none}.cx-webchat .cx-transcript .cx-message.cx-them{border:0;color:#000;padding:6px 0;text-align:left}.cx-webchat .cx-transcript .cx-message.cx-them .cx-bubble{margin-left:40px;text-align:left;margin-top:0;border-radius:0 14px 14px 14px}.cx-webchat .cx-transcript .cx-message.cx-them .cx-bubble-arrow{left:33px}.cx-webchat .cx-transcript .cx-message.cx-them .cx-bubble-arrow .cx-right{display:none}.cx-webchat .cx-transcript .cx-message.cx-them .cx-avatar-wrapper{left:0}.cx-webchat .cx-transcript .cx-message.cx-you{border:0;color:#000;padding:6px 0;text-align:right}.cx-webchat .cx-transcript .cx-message.cx-you .cx-name{display:none}.cx-webchat .cx-transcript .cx-message.cx-you .cx-bubble{margin-top:0;margin-right:7px;text-align:left;border-radius:14px 0 14px 14px}.cx-webchat .cx-transcript .cx-message.cx-you .cx-bubble-arrow{right:-7px}.cx-webchat .cx-transcript .cx-message.cx-you .cx-avatar-wrapper,.cx-webchat .cx-transcript .cx-message.cx-you .cx-bubble-arrow .cx-left{display:none}.cx-webchat .cx-transcript .cx-message.cx-injected{border:0;padding:6px 0}.cx-webchat .cx-transcript .cx-message-group>.cx-message{padding:0!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant{margin-bottom:6px!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant .cx-avatar-wrapper,.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant .cx-bubble-arrow,.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant .cx-name,.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant .cx-time{display:none!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant .cx-bubble{border-radius:10px;margin:0 0 0 40px}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant.cx-them:first-child .cx-avatar-wrapper{display:block!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant.cx-you .cx-bubble{margin:0!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant:first-child .cx-bubble-arrow,.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant:first-child .cx-name{display:block!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant:first-child .cx-bubble{border-top-left-radius:14px!important;border-top-right-radius:14px!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant:last-child .cx-time{display:block!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant:last-child .cx-bubble{border-bottom-left-radius:14px!important;border-bottom-right-radius:14px!important}.cx-webchat .cx-isTyping{color:#222;font-size:.6875em;font-style:italic}.cx-webchat div.cx-input-container{display:none;width:100%;padding:14px 16px 14px 24px;border-width:1px;border-style:solid}.cx-webchat div.cx-input-container .cx-textarea-cell{position:relative}.cx-webchat div.cx-input-container .cx-message-input{width:100%;resize:none;height:20px;line-height:20px;font-size:.75em;margin-bottom:14px;padding:0;font-weight:400;overflow:hidden;border:0;background-color:transparent;padding-right:40px}.cx-webchat div.cx-input-container .cx-input.cx-disabled{opacity:.5}.cx-webchat .cx-settings-group{display:none}.cx-webchat .cx-end{color:#fff;line-height:2.5625em;text-align:right;height:40px;position:absolute;top:13px;right:24px;-webkit-transition:opacity .22s ease-in-out;-moz-transition:opacity .22s ease-in-out;-o-transition:opacity .22s ease-in-out;transition:opacity .22s ease-in-out;display:none;display:none!important}.cx-webchat .cx-end:hover{cursor:pointer;opacity:.8;opacity:1}.cx-webchat .cx-send{height:20px;width:24px;top:0}.cx-webchat .cx-send,.cx-webchat .cx-start-cobrowse{display:none;position:absolute;right:0;cursor:pointer}.cx-webchat .cx-start-cobrowse{bottom:114px;background-color:#e3b33b;padding:3px 3px 3px 4px;border-radius:5px 0 0 0;color:#fff;font-size:.8125em}.cx-webchat .cx-a-disabled{color:currentColor;display:inline-block;pointer-events:none;text-decoration:none;cursor:not-allowed;opacity:.5;outline:none}.cx-webchat .cx-scroll-disabled{overflow:hidden}.cx-webchat .cx-countdown{font-size:2em}.cx-webchat-counter{display:none}.cx-webchat.cx-minimized .cx-webchat-counter{display:inline-block;border-radius:5px;background-color:#e3264f;color:#fff;font-size:.625em;padding:4px;text-align:center;margin-left:12px;cursor:pointer;min-width:25px;float:right}.cx-widget p .cx-file-transfer-block{display:block;height:110px}.cx-widget .cx-parentDisable{opacity:.2}.cx-widget span.cx-user-detail.cx-name{vertical-align:middle}.cx-widget .cx-user-detail .cx-filesentmsg,.cx-widget span.cx-user-detail.cx-name{width:auto!important;display:inline-block!important}.cx-widget .cx-filename{display:block}.cx-widget .cx-warning .cx-reason>strong>p.filename{margin-left:26px;margin-bottom:10px;margin-top:10px}.cx-widget .cx-warning .cx-reason .cx-advice{margin-left:28px}.cx-widget .cx-lastrow{display:inline-block;clear:both}.cx-widget .cx-lastrow>span{display:inline-block}.cx-widget .cx-download-btn{margin-top:4px!important;padding:5px!important;max-height:30px;width:80px;font-size:1em}.cx-widget .cx-filesize{margin-left:20px}.cx-widget.cx-webchat-chat-button{right:0;top:40%;font-weight:700;padding:10px 10px 4px!important;cursor:pointer}.cx-widget.cx-webchat-chat-button .cx-icon{height:23px;width:23px;margin-right:2px;display:inline-block}.cx-widget.cx-webchat-chat-button>span{white-space:nowrap;margin-bottom:-6px}.cx-widget.cx-webchat-chat-button .cx-chat-button-label{vertical-align:super}.cx-webchat.cx-mobile .cx-message-input{margin-top:10px!important;margin-bottom:16px!important;padding-right:51px!important;font-size:1em!important;line-height:1.125em!important;overflow:auto!important}.cx-webchat.cx-mobile .cx-send{right:16px}.cx-webchat.cx-mobile .cx-menu>li{height:24px;width:24px;margin-right:20px}.cx-webchat.cx-mobile .cx-input-container{padding-top:6px!important;padding:14px 0 14px 24px!important}.cx-webchat.cx-mobile.cx-landscape .cx-message-input{margin-bottom:10px!important;padding-right:60px!important}.cx-webchat.cx-mobile.cx-landscape .cx-textarea-cell{width:100%}.cx-webchat.cx-mobile.cx-landscape .cx-branding-icon{position:relative!important;right:auto!important}.cx-webchat.cx-mobile.cx-landscape .cx-input-container{display:flex!important;padding-bottom:6px!important}.cx-webchat.cx-mobile.cx-landscape .cx-send{top:9px;right:24px}.cx-webchat.cx-mobile.cx-landscape .cx-menu-cell{margin-top:7px}.cx-webchat .cx-menu-cell #cx-emoji-status{text-indent:-99999px;height:0}.cx-webchat .cx-menu{display:flex;list-style:none;margin:0;padding:0;width:100%;min-height:16px}.cx-webchat .cx-menu>li{display:inline-block;list-style:none;height:20px;width:20px;padding:2px;margin-right:18px;cursor:pointer;outline-style:none}.cx-webchat .cx-menu>li:focus{padding:1px}.cx-webchat .cx-menu li:last-child{margin-right:0}.cx-webchat .cx-menu li.cx-inert{cursor:default}.cx-webchat .cx-menu li.cx-char-count{width:auto;font-style:italic;font-size:.6875em;line-height:18px;color:#aaa}.cx-webchat .cx-menu li.cx-branding-icon{position:absolute;right:10px}.cx-webchat .cx-menu li.cx-icon.cx-disabled:not(.cx-branding-icon){pointer-events:none;opacity:.5}.cx-webchat.cx-disabled .cx-char-count,.cx-webchat.cx-disabled .cx-message-input,.cx-webchat.cx-disabled .cx-send{visibility:hidden}.cx-webchat.cx-disabled .cx-input-container .cx-icon{opacity:.5}.cx-webchat.cx-disabled .cx-menu{pointer-events:none}.cx-webchat.cx-disabled.cx-theme-dark .cx-input-container{background:#4a525b;pointer-events:none}.cx-webchat.cx-disabled.cx-theme-light .cx-input-container{background:#f2f4f7;pointer-events:none}.cx-webchat .cx-emoji-menu{white-space:nowrap;border:1px solid;padding:0;margin:0 0 14px}.cx-webchat .cx-emoji-menu li,.cx-webchat .cx-emoji-menu span{padding:15px 5px;display:inline-block}.cx-webchat .cx-emoji-menu li:first-child,.cx-webchat .cx-emoji-menu span:first-child{padding-left:10px}.cx-webchat .cx-emoji-menu li:last-child,.cx-webchat .cx-emoji-menu span:last-child{padding-right:10px}.cx-emoji-selection-menu,.cx-tooltip-menu{display:inline-block;position:relative;outline-style:none}.cx-emoji-selection-menu{bottom:0;left:0;max-height:128px;overflow:auto;border-top:1px solid}.cx-webchat .cx-emoji-table{overflow-y:auto;overflow-x:hidden;padding:0;margin:0}.cx-webchat .cx-emoji-table .cx-emoji-item{padding:6px 6px 3px;display:inline-block;cursor:pointer;font-size:25px;width:12.5%;text-align:center}.cx-webchat .cx-overlay .cx-idle-alert{font-size:.75em;text-align:center}.cx-webchat.cx-mobile .cx-overlay .cx-idle-alert{font-size:.875em}.cx-webchat .cx-overlay .cx-idle-countdown{text-align:center;padding:10px}@keyframes NewMessage{to{background-color:#2293f9!important}}@-webkit-keyframes NewMessage{to{background-color:#2293f9!important}}@keyframes NewTextBubble{0%{opacity:0}to{opacity:1}}@-webkit-keyframes NewTextBubble{0%{opacity:0}to{opacity:1}}",""])},"./node_modules/marked/lib/marked.js":function(e,t,a){(function(t){!function(){"use strict";function t(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||m.defaults,this.rules=b.normal,this.options.pedantic?this.rules=b.pedantic:this.options.gfm&&(this.options.tables?this.rules=b.tables:this.rules=b.gfm)}function a(e,t){if(this.options=t||m.defaults,this.links=e,this.rules=g.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=g.pedantic:this.options.gfm&&(this.options.breaks?this.rules=g.breaks:this.rules=g.gfm)}function n(e){this.options=e||m.defaults}function i(){}function r(e){this.tokens=[],this.token=null,this.options=e||m.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new c}function c(){this.seen={}}function s(e,t){if(t){if(s.escapeTest.test(e))return e.replace(s.escapeReplace,(function(e){return s.replacements[e]}))}else if(s.escapeTestNoEncode.test(e))return e.replace(s.escapeReplaceNoEncode,(function(e){return s.replacements[e]}));return e}function o(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}function l(e,t){return e=e.source||e,t=t||"",{replace:function(t,a){return a=(a=a.source||a).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,a),this},getRegex:function(){return new RegExp(e,t)}}}function d(e,t,a){if(e){try{var n=decodeURIComponent(o(a)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}t&&!w.test(a)&&(a=function(e,t){return f[" "+e]||(/^[^:]+:\/*[^\/]*$/.test(e)?f[" "+e]=e+"/":f[" "+e]=h(e,"/",!0)),e=f[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+t:e+t}(t,a));try{a=encodeURI(a).replace(/%25/g,"%")}catch(e){return null}return a}function p(){}function x(e){for(var t,a,n=1;n<arguments.length;n++)for(a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}function u(e,t){var a=e.replace(/\|/g,(function(e,t,a){for(var n=!1,i=t;--i>=0&&"\\"===a[i];)n=!n;return n?"|":" |"})),n=a.split(/ \|/),i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function h(e,t,a){if(0===e.length)return"";for(var n=0;n<e.length;){var i=e.charAt(e.length-n-1);if(i!==t||a){if(i===t||!a)break;n++}else n++}return e.substr(0,e.length-n)}function m(e,a,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof a){n||(n=a,a=null);var i,c,o=(a=x({},m.defaults,a||{})).highlight,l=0;try{i=t.lex(e,a)}catch(e){return n(e)}c=i.length;var d=function(e){if(e)return a.highlight=o,n(e);var t;try{t=r.parse(i,a)}catch(t){e=t}return a.highlight=o,e?n(e):n(null,t)};if(!o||o.length<3)return d();if(delete a.highlight,!c)return d();for(;l<i.length;l++)!function(e){"code"!==e.type?--c||d():o(e.text,e.lang,(function(t,a){return t?d(t):null==a||a===e.text?--c||d():(e.text=a,e.escaped=!0,void(--c||d()))}))}(i[l])}else try{return a&&(a=x({},m.defaults,a)),r.parse(t.lex(e,a),a)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(a||m.defaults).silent)return"<p>An error occurred:</p><pre>"+s(e.message+"",!0)+"</pre>";throw e}}var b={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:p,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:p,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:p,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};b.def=l(b.def).replace("label",b._label).replace("title",b._title).getRegex(),b.bullet=/(?:[*+-]|\d{1,9}\.)/,b.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,b.item=l(b.item,"gm").replace(/bull/g,b.bullet).getRegex(),b.list=l(b.list).replace(/bull/g,b.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+b.def.source+")").getRegex(),b._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",b._comment=/<!--(?!-?>)[\s\S]*?-->/,b.html=l(b.html,"i").replace("comment",b._comment).replace("tag",b._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),b.paragraph=l(b.paragraph).replace("hr",b.hr).replace("heading",b.heading).replace("lheading",b.lheading).replace("tag",b._tag).getRegex(),b.blockquote=l(b.blockquote).replace("paragraph",b.paragraph).getRegex(),b.normal=x({},b),b.gfm=x({},b.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),b.gfm.paragraph=l(b.paragraph).replace("(?!","(?!"+b.gfm.fences.source.replace("\\1","\\2")+"|"+b.list.source.replace("\\1","\\3")+"|").getRegex(),b.tables=x({},b.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),b.pedantic=x({},b.normal,{html:l("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",b._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),t.rules=b,t.lex=function(e,a){return new t(a).lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(e,t){e=e.replace(/^ +$/gm,"");for(var a,n,i,r,c,s,o,l,d,p,x,m,g,f,w,v;e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:h(i,"\n")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2]?i[2].trim():i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))&&(s={type:"table",header:u(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]}).header.length===s.align.length){for(e=e.substring(i[0].length),x=0;x<s.align.length;x++)/^ *-+: *$/.test(s.align[x])?s.align[x]="right":/^ *:-+: *$/.test(s.align[x])?s.align[x]="center":/^ *:-+ *$/.test(s.align[x])?s.align[x]="left":s.align[x]=null;for(x=0;x<s.cells.length;x++)s.cells[x]=u(s.cells[x],s.header.length);this.tokens.push(s)}else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),o={type:"list_start",ordered:f=(r=i[2]).length>1,start:f?+r:"",loose:!1},this.tokens.push(o),l=[],a=!1,g=(i=i[0].match(this.rules.item)).length,x=0;x<g;x++)p=(s=i[x]).length,~(s=s.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(p-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+p+"}","gm"),"")),x!==g-1&&(c=b.bullet.exec(i[x+1])[0],(r.length>1?1===c.length:c.length>1||this.options.smartLists&&c!==r)&&(e=i.slice(x+1).join("\n")+e,x=g-1)),n=a||/\n\n(?!\s*$)/.test(s),x!==g-1&&(a="\n"===s.charAt(s.length-1),n||(n=a)),n&&(o.loose=!0),v=void 0,(w=/^\[[ xX]\] /.test(s))&&(v=" "!==s[1],s=s.replace(/^\[[ xX]\] +/,"")),d={type:"list_item_start",task:w,checked:v,loose:n},l.push(d),this.tokens.push(d),this.token(s,!1),this.tokens.push({type:"list_item_end"});if(o.loose)for(g=l.length,x=0;x<g;x++)l[x].loose=!0;this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:i[0]});else if(t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),i[3]&&(i[3]=i[3].substring(1,i[3].length-1)),m=i[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[m]||(this.tokens.links[m]={href:i[2],title:i[3]});else if(t&&(i=this.rules.table.exec(e))&&(s={type:"table",header:u(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===s.align.length){for(e=e.substring(i[0].length),x=0;x<s.align.length;x++)/^ *-+: *$/.test(s.align[x])?s.align[x]="right":/^ *:-+: *$/.test(s.align[x])?s.align[x]="center":/^ *:-+ *$/.test(s.align[x])?s.align[x]="left":s.align[x]=null;for(x=0;x<s.cells.length;x++)s.cells[x]=u(s.cells[x].replace(/^ *\| *| *\| *$/g,""),s.header.length);this.tokens.push(s)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var g={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:p,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:p,text:/^(`+|[^`])[\s\S]*?(?=[\\<!\[`*]|\b_| {2,}\n|$)/,_punctuation:"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};g.em=l(g.em).replace(/punctuation/g,g._punctuation).getRegex(),g._escapes=/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g,g._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,g._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,g.autolink=l(g.autolink).replace("scheme",g._scheme).replace("email",g._email).getRegex(),g._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,g.tag=l(g.tag).replace("comment",b._comment).replace("attribute",g._attribute).getRegex(),g._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,g._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f\\]*\)|[^\s\x00-\x1f()\\])*?)/,g._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,g.link=l(g.link).replace("label",g._label).replace("href",g._href).replace("title",g._title).getRegex(),g.reflink=l(g.reflink).replace("label",g._label).getRegex(),g.normal=x({},g),g.pedantic=x({},g.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:l(/^!?\[(label)\]\((.*?)\)/).replace("label",g._label).getRegex(),reflink:l(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",g._label).getRegex()}),g.gfm=x({},g.normal,{escape:l(g.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:l(g.text).replace("]|","~]|").replace("|$","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|$").getRegex()}),g.gfm.url=l(g.gfm.url,"i").replace("email",g.gfm._extended_email).getRegex(),g.breaks=x({},g.gfm,{br:l(g.br).replace("{2,}","*").getRegex(),text:l(g.gfm.text).replace("{2,}","*").getRegex()}),a.rules=g,a.output=function(e,t,n){return new a(t,n).output(e)},a.prototype.output=function(e){for(var t,n,i,r,c,o,l="";e;)if(c=this.rules.escape.exec(e))e=e.substring(c[0].length),l+=s(c[1]);else if(c=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(c[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(c[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(c[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(c[0])&&(this.inRawBlock=!1),e=e.substring(c[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(c[0]):s(c[0]):c[0];else if(c=this.rules.link.exec(e))e=e.substring(c[0].length),this.inLink=!0,i=c[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i))?(i=t[1],r=t[3]):r="":r=c[3]?c[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(c,{href:a.escapes(i),title:a.escapes(r)}),this.inLink=!1;else if((c=this.rules.reflink.exec(e))||(c=this.rules.nolink.exec(e))){if(e=e.substring(c[0].length),t=(c[2]||c[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){l+=c[0].charAt(0),e=c[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(c,t),this.inLink=!1}else if(c=this.rules.strong.exec(e))e=e.substring(c[0].length),l+=this.renderer.strong(this.output(c[4]||c[3]||c[2]||c[1]));else if(c=this.rules.em.exec(e))e=e.substring(c[0].length),l+=this.renderer.em(this.output(c[6]||c[5]||c[4]||c[3]||c[2]||c[1]));else if(c=this.rules.code.exec(e))e=e.substring(c[0].length),l+=this.renderer.codespan(s(c[2].trim(),!0));else if(c=this.rules.br.exec(e))e=e.substring(c[0].length),l+=this.renderer.br();else if(c=this.rules.del.exec(e))e=e.substring(c[0].length),l+=this.renderer.del(this.output(c[1]));else if(c=this.rules.autolink.exec(e))e=e.substring(c[0].length),"@"===c[2]?i="mailto:"+(n=s(this.mangle(c[1]))):i=n=s(c[1]),l+=this.renderer.link(i,null,n);else if(this.inLink||!(c=this.rules.url.exec(e))){if(c=this.rules.text.exec(e))e=e.substring(c[0].length),this.inRawBlock?l+=this.renderer.text(c[0]):l+=this.renderer.text(s(this.smartypants(c[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===c[2])i="mailto:"+(n=s(c[0]));else{do{o=c[0],c[0]=this.rules._backpedal.exec(c[0])[0]}while(o!==c[0]);n=s(c[0]),i="www."===c[1]?"http://"+n:n}e=e.substring(c[0].length),l+=this.renderer.link(i,null,n)}return l},a.escapes=function(e){return e?e.replace(a.rules._escapes,"$1"):e},a.prototype.outputLink=function(e,t){var a=t.href,n=t.title?s(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(a,n,this.output(e[1])):this.renderer.image(a,n,s(e[1]))},a.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},a.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,a="",n=e.length,i=0;i<n;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),a+="&#"+t+";";return a},n.prototype.code=function(e,t,a){var n=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,n);null!=i&&i!==e&&(a=!0,e=i)}return n?'<pre><code class="'+this.options.langPrefix+s(n,!0)+'">'+(a?e:s(e,!0))+"</code></pre>\n":"<pre><code>"+(a?e:s(e,!0))+"</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,a,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.slug(a)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t,a){var n=t?"ol":"ul";return"<"+n+(t&&1!==a?' start="'+a+'"':"")+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var a=t.header?"th":"td";return(t.align?"<"+a+' align="'+t.align+'">':"<"+a+">")+e+"</"+a+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,a){if(null===(e=d(this.options.sanitize,this.options.baseUrl,e)))return a;var n='<a href="'+s(e)+'"';return t&&(n+=' title="'+t+'"'),n+">"+a+"</a>"},n.prototype.image=function(e,t,a){if(null===(e=d(this.options.sanitize,this.options.baseUrl,e)))return a;var n='<img src="'+e+'" alt="'+a+'"';return t&&(n+=' title="'+t+'"'),n+(this.options.xhtml?"/>":">")},n.prototype.text=function(e){return e},i.prototype.strong=i.prototype.em=i.prototype.codespan=i.prototype.del=i.prototype.text=function(e){return e},i.prototype.link=i.prototype.image=function(e,t,a){return""+a},i.prototype.br=function(){return""},r.parse=function(e,t){return new r(t).parse(e)},r.prototype.parse=function(e){this.inline=new a(e.links,this.options),this.inlineText=new a(e.links,x({},this.options,{renderer:new i})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,o(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,a,n,i="",r="";for(a="",e=0;e<this.token.header.length;e++)a+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(a),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],a="",n=0;n<t.length;n++)a+=this.renderer.tablecell(this.inline.output(t[n]),{header:!1,align:this.token.align[n]});r+=this.renderer.tablerow(a)}return this.renderer.table(i,r);case"blockquote_start":for(r="";"blockquote_end"!==this.next().type;)r+=this.tok();return this.renderer.blockquote(r);case"list_start":r="";for(var c=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)r+=this.tok();return this.renderer.list(r,c,s);case"list_item_start":r="";var l=this.token.loose;for(this.token.task&&(r+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)r+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(r);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var d='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(d);console.log(d)}},c.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,.\/:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var a=t;do{this.seen[a]++,t=a+"-"+this.seen[a]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},s.escapeTest=/[&<>"']/,s.escapeReplace=/[&<>"']/g,s.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},s.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,s.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var f={},w=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;p.exec=p,m.options=m.setOptions=function(e){return x(m.defaults,e),m},m.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new n,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},m.defaults=m.getDefaults(),m.Parser=r,m.parser=r.parse,m.Renderer=n,m.TextRenderer=i,m.Lexer=t,m.lexer=t.lex,m.InlineLexer=a,m.inlineLexer=a.output,m.Slugger=c,m.parse=m,e.exports=m}(this||"undefined"!=typeof window&&window)}).call(t,a("./node_modules/webpack/buildin/global.js"))},"./webapp/plugins/cx-webchat/cx-webchat.js":function(e,t,a){"use strict";var n,i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=[a("./node_modules/jquery/dist/jquery.js"),a("./webapp/plugins/cx-common/cx-common.js"),a("./node_modules/marked/lib/marked.js"),a("./webapp/plugins/cx-webchat/html/cx-webchat.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-toaster.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-spinner.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-message-agent.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-message-customer.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-chat-button.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-file-transfer-customer.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-file-transfer-agent.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-upload-failed-alert.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-alert.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-async-close.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-emoji-menu.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-emoji-menu-custom.html"),a("./webapp/plugins/cx-webchat/html/cx-loading.html"),a("./webapp/plugins/cx-webchat/nls/string.json"),a("./webapp/plugins/cx-webchat/less/cx-webchat.less")],void 0!==(i=function(e,t,a,n,i,s,o,l,d,p,x,u,h,m,b,g,f,w){var v=CXBus.registerPlugin("WebChat");if(v){var y=function(e){var a=(e||"").split(";"),n=[];return a.forEach((function(e){if(e){var a=e.split(":");if(""!=a[0].trim())if(1==a.length&&e.length>1){t.emojiStringToArray(e).forEach((function(e){""!=e.trim()&&n.push({unicode:e})}))}else{var i={};i.unicode=a[0],2==a.length&&(i.name=a[1]),n.push(i)}}})),n},k=function(){var e=Ct(".cx-emoji-selection-menu"),t=Ct(".cx-transcript");e.is(":visible")&&(e.hide(),Ct("#cx-emoji-status").text(w.AriaEmojiStatusClose),t.height(t.height()+ot+1))},C=function(){var a=A.emojiListConfig||A.emojiListI18n||[],n="";if(a.length>0){var i=(n=e(g)).find(".cx-emoji-table");i.find(".cx-emoji-item").attr("aria-label",w.AriaEmojiPicker),a.forEach((function(t,n){i.append(e('<li class="cx-emoji-item" role="option" aria-posinset="'+(n+1)+'" aria-setsize="'+a.length+'" aria-label="'+(t.name?t.name+" "+w.AriaEmoji:"")+'" title="'+(t.name||"")+'" data-unicode="'+t.unicode+'" tabindex="0">'+t.unicode+"</li>"))})),Ct(".cx-transcript").after(n),n.hide(),Ct(".cx-menu .cx-emoji").on("keydown click",(function(e){t.validInput(e)&&(ke?(n.is(":visible")?n.hide():n.show(),zt()):n.is(":visible")?k():function(){var e=Ct(".cx-emoji-selection-menu"),t=Ct(".cx-transcript");e.is(":visible")||(e.show(),Ct("#cx-emoji-status").text(w.AriaEmojiStatusOpen),e.find(".cx-emoji-table .cx-emoji-item").eq(0).trigger("focus"),t.height(t.height()-e.height()-1),ot=e.height(),t[0].scrollTop=t[0].scrollTop+ot,e[0].scrollTop=0)}())}))}else(n=e(b)).find(".cx-emoji-menu").attr("aria-label",w.AriaEmojiPicker),Ct(".cx-menu .cx-emoji").tooltipMenu({content:n,beforeOpen:function(){return de},onOpen:function(){Ct("#cx-emoji-status").text(w.AriaEmojiStatusOpen)},onClose:function(){Ct("#cx-emoji-status").text(w.AriaEmojiStatusClose)}});n&&n.find(".cx-option, .cx-emoji-item").on("keydown click",(function(i){if(t.validInput(i)){var r=Ct(".cx-message-input");et-(r[0].value.length+e(this).text().length)>=0&&r.insertAtCaret(e(this).data("unicode")),r.trigger("focus"),Qe&&ma()}if(37===i.which||39===i.which||a.length>0&&(38===i.which||40===i.which||27===i.which)){i.preventDefault();var c=n.find(".cx-option").length?n.find(".cx-option"):n.find(".cx-emoji-item"),s=c.length,o=e(this).index(),l=void 0;37!==i.which&&39!==i.which||(l=39==i.which?o>=s-1?0:o+1:o<=0?s-1:o-1,c.eq(l).trigger("focus")),s>8&&(38===i.which||40===i.which)&&(40==i.which?o+8<s?l=o+8:o+8>=s-1&&(l=Math.ceil(s/8)==Math.ceil((o+1)/8)?Math.abs(8*Math.ceil(s/8)-8-o):a.length-1):o-8>=0?l=o-8:o-8<0&&(l=Math.abs(8*Math.ceil(s/8)-8+o))>s-1&&(l=s-1),c.eq(l).trigger("focus")),27==i.which&&(k(),J.find(".cx-menu .cx-emoji").focus())}}))};v.registerEvents(["ready","opened","closed","minimized","unminimized","cancelled","completed","messageAdded","submitted"]);var A={chatButton:{enabled:!1,template:d,openDelay:1e3,effect:"fade",effectDuration:300,hideDuringInvite:!0},proactive:{enabled:!1,idleTimer:5,cancelTimer:30},avatars:{bot:"bot",agent:"agent",customer:"user"},actionsMenu:!0,emojis:!1,emojiListConfig:!1,emojiListI18n:!1,inviteOnRestoreTimeout:!0,groupMessages:!1,userData:{},interactionData:{},i18n_messages:w,template:n,async:{enabled:!1,newMessageRestoreState:"full"},minimizeOnMobileRestore:!1,markdown:!1,unminimizeOnAlert:!0,promptEndChatOnError:6e4,endChatOnErrorThreshold:3e5},S={wrapper:"<table role='none'>",inputs:[{id:"cx_webchat_form_firstname",name:"firstname",maxlength:"100",placeholder:"@i18n:webchat.ChatFormPlaceholderFirstName",label:"@i18n:webchat.ChatFormFirstName",autofocus:!0},{id:"cx_webchat_form_lastname",name:"lastname",maxlength:"100",placeholder:"@i18n:webchat.ChatFormPlaceholderLastName",label:"@i18n:webchat.ChatFormLastName"},{id:"cx_webchat_form_email",name:"email",maxlength:"100",placeholder:"@i18n:webchat.ChatFormPlaceholderEmail",label:"@i18n:webchat.ChatFormEmail"},{id:"cx_webchat_form_subject",name:"subject",maxlength:"100",placeholder:"@i18n:webchat.ChatFormPlaceholderSubject",label:"@i18n:webchat.ChatFormSubject"}]},T=!1,_=!1,j=!1,I=!1,E=!1,z={},F=0,D=0,R=0,B=0,O=0,M=[],L=!1,N=!1,P=!1,W=!1,$=!1,q=!1,H=!1,U=!1,G=!1,Z=null,J=e(),V=!1,Y=!1,K=!1,X=!1,Q=e(A.chatButton.template),ee=e(),te=!1,ae=e(),ne=!1,ie=!1,re=["cx-button-close","cx-close-confirm","cx-end-confirm"],ce=0,se=!1,oe=!1,le=!1,de=!1,pe=!1,xe=!1,ue=!1,he=!1,me=!1,be=!1,ge=!1,fe=!1,we=!1,ve=!1,ye=!1,ke=!1,Ce=!1,Ae=!1,Se=!1,Te=!0,_e=!1,je=!1,Ie=!1,Ee=!1,ze=!1,Fe=!1,De=!1,Re=!1,Be=!1,Oe=!1,Me=!1,Le=!1,Ne=!1,Pe=!1,We=A.iMessageGroupingThreshold||1e5,$e=0,qe={},He={},Ue="",Ge="",Ze="",Je=CXBus.data("App.timeFormat")||12,Ve="WebChatService",Ye=!1,Ke=[46,8,37,38,39,40,9,16],Xe=[0,1,38,33,void 0],Qe=0,et=500,tt=[100,75,50,25,10],at=[50,25,10],nt=[],it=0,rt=0,ct=0,st=["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","ScrollLock","Shift","Super","Symbol","SymbolLock","Enter","Tab"],ot=0,lt="_genesys.widgets.webchat.state",dt=lt+".minimized",pt=lt+".open",xt=lt+".lastMessageCountRead",ut=lt+".asyncUnreadMessageCount",ht="_genesys.widgets.webchat.metaData",mt={proactiveIdle:null},bt=(e(),e(),e(),!1),gt={},ft="",wt="",vt=!1,yt=!1,kt=!1,Ct=function(e){return J.find(e)},At=new a.Renderer;At.link=function(e,t,n){var i=e.match(/{{target=".*"}}/),r=!1;i&&(r=i[0].replace(/{{|}}/g,"").split("=")[1].replace(/"/g,"").replace(/'/g,""),e=e.replace(/{{.*}}/,""));var c=a.Renderer.prototype.link.apply(this,[e,t,n]);return-1!==c.indexOf("target")?c:c.replace("<a","<a target='"+(r||"_blank")+"'")},a.setOptions({renderer:At});var St=function(){mt.proactiveIdle&&v.unsubscribe(mt.proactiveIdle),t.getCookie("_genesys.widgets.webchat.autoInvite.disabled")||(mt.proactiveIdle=v.subscribe("Watchman.idle:"+A.proactive.idleTimer,(function(){K||!0!==A.proactive.enabled||v.command("invite").done((function(e){v.command("Watchman.countdown",{time:A.proactive.cancelTimer}).done((function(t){v.subscribe(t,(function(){var t=e||K;t&&t.find(document.activeElement).length||K&&(v.command("Toaster.close"),A.chatButton.enabled&&v.command("showChatButton"))}))}))}))})))},Tt=function(){Y&&Se&&v.command(Ve+".getFileLimits").done((function(a){var n="string"==typeof a?JSON.parse(a):a,i=null,r=!0,c="";n.chatEnded?Y.hide():(e.each(n.messages,(function(){this.userData&&(i=this.userData)})),i?(c="."+i["upload-file-types"].split(":").join(",."),r="true"===i["upload-need-agent"],Ue=i["upload-max-file-size"],Ct(".cx-browseFile").attr("accept",c),r?me?Y.show():Y.hide():Y.show()):(t.error("("+Ve+".getFileLimits) did not receive the following properties: upload-file-types, upload-need-agent, upload-max-file-size"),t.debug(n)))}))},_t=function(a){if(!0===se&&J){var n=function(){J.remove(),J=e(),a.deferred.resolve(),N||W||(P=_a(),v.publish("cancelled",za())),$=_a(),v.publish("closed",za()),Ea(),A.chatButton.enabled&&v.command("showChatButton"),(ue||he)&&v.command("Survey.open",{questions:aSurveyQuestions})};!0===v.data("App.transitions")?J.animate({bottom:0-J.height()+"px"},{duration:500,done:n}):n(),se=!1,t.setCookie(pt,se)}else a.deferred.reject("already closed");Ye&&(Ye=!1),vt&&(vt=!1),Ia()},jt=function(){V&&(ye?V.hide():(we&&me?V.show():V.hide(),ve&&V.hide())),de?Ct(".cx-message-input").removeClass("cx-disabled").removeAttr("tabindex"):(Ct(".cx-message-input").addClass("cx-disabled").attr("tabindex",-1).val(""),Gt())},It=function(){var e=t.getCookie(ut);e++,t.setCookie(ut,e)},Et=function(){if(X){var e=t.getCookie(xt)||$e,a=$e-e;if(t.getCookie(ut)&&t.getCookie(ut)>=a){var n=t.getCookie(ut);X.css({display:""}).text(n)[0].title=n+" "+w.UnreadMessagesTitle,X.attr({"aria-label":w.ChatTitle+" "+n+" "+w.UnreadMessagesTitle})}else a>0?(X.css({display:""}).text(a)[0].title=a+" "+w.UnreadMessagesTitle,X.attr({"aria-label":w.ChatTitle+" "+a+" "+w.UnreadMessagesTitle}),t.setCookie(ut,a)):(X.removeAttr("aria-label"),X.css({display:"none"}))}},zt=function(){if(ke||Ce){var a=window.screen.availHeight||e(window).height(),n=window.screen.availWidth||e(window).width();J.removeClass("cx-portrait cx-landscape"),J.addClass(n<a?"cx-portrait":"cx-landscape");var i=J.height(),r=Ct(".cx-titlebar").outerHeight(),c=Ct(".cx-form").outerHeight(),s=Ct(".cx-emoji-selection-menu").is(":visible")?Ct(".cx-emoji-selection-menu").outerHeight():0,o=Ct(".cx-input-container").outerHeight(),l=Ct(".cx-footer").outerHeight();_e?Ct(".cx-transcript").height(i-r-s-o):i<r+c+l?(Ct(".cx-footer").hide(),Ct(".cx-form-wrapper").outerHeight(i-r)):(Ct(".cx-footer").show(),Ct(".cx-form-wrapper").outerHeight(i-r-l)),Pt(),t.overlayFocusCycle(J)}},Ft=function(e){J&&(J.find(".cx-form .cx-form-inputs").empty(),t.Generate.Form(e||S,Ct(".cx-body .cx-form .cx-form-inputs")))},Dt=function(){e.extend(w,v.data("App.localization").webchat||w,!0),"string"==typeof w.EmojiList&&(A.emojiListI18n=y(w.EmojiList))},Rt=function(){if(Dt(),gt=v.data(Ve+".capabilities"),J[0])return J;J=t.Generate.Container({type:"generic",classes:"cx-webchat",title:w.ChatTitle,body:!1,icon:"chat",controls:"all",buttons:!1});var a="";J.addClass("cx-webchat"),J.attr({"data-gcb-service-node":!0}),J.attr("aria-label",w.AriaWindowLabel),Ct(".cx-button-minimize").attr("aria-label",w.AriaMinimize),Ct(".cx-button-close").attr("aria-label",w.AriaClose),(X=e("<div class='cx-webchat-counter' tabindex='0'></div>")).on("keydown click",(function(e){t.validInput(e)&&(e.stopImmediatePropagation(),fe&&v.command("minimize"))})),Ct(".cx-title").text(w.ChatTitle).attr({"aria-live":"assertive"}).append(X),Ct(".cx-titlebar").on("keydown click",(function(e){t.validInput(e)&&J.hasClass("minimized")&&v.command("minimize")})),Ct(".cx-button-close").on("keydown  click",(function(e){t.validInput(e)&&(de?(fe&&v.command("minimize"),Ie?gt&&gt.asyncClose&&"endChat"==gt.asyncClose?na():ra():na()):v.command("close"))})),Ct(".cx-button-minimize").on("keydown click",(function(e){t.validInput(e)&&v.command("minimize")})),Ct(".cx-body").append(e(n)),Ft(),Ct(".cx-input-container .cx-send").attr("aria-label",w.AriaChatInputSend),Ct(".cx-input-container .cx-emoji").attr("aria-label",w.ActionsEmoji),Ct(".cx-input-container .cx-upload").attr("aria-label",w.ActionsSendFile),Ct(".cx-input-container .cx-cobrowse").attr("aria-label",w.ActionsCobrowseStart),Ct(".cx-form .cx-input").on("keydown",(function(e){if(13==e.which)return aa(e),!0})),Ct(".cx-browseFile").on("change",(function(){if(this.value)if(Yt(),this.files[0].size>parseInt(Ue)){var e={},n=w.Errors.FileTransferSizeError,i=wa(this.files[0].name);a=t.bytesToSize(parseInt(Ue)),n=(n=n.replace("<%FilenameFull%>",this.files[0].name).replace("<%FilenameTruncated%>",i)).replace("<%MaxSizePerFile%>",a),e.sErrors=n,Xt(e),Ot(),Kt()}else v.command(Ve+".sendFile",{files:this}).done((function(e){Ot()})).fail((function(e){Ot()})).always((function(){Kt()}))})),C(),V=Ct(".cx-menu .cx-cobrowse"),Y=Ct(".cx-menu .cx-upload");var i=Ct(".cx-menu .cx-cobrowse").attr("aria-label");Ct(".cx-menu .cx-cobrowse").attr("aria-label",i+" "+w.AriaActionsCobrowseStartTitle),V.on("keydown click",(function(e){t.validInput(e)&&!ye&&de&&(ve?v.command("CoBrowse.stop"):me&&v.command("CoBrowse.start"))}));var r=Ct(".cx-upload").attr("aria-label");return Ct(".cx-upload").attr("aria-label",r+" "+w.AriaActionsSendFileTitle),Ct(".cx-upload").on("keydown click",(function(e){t.validInput(e)&&de&&Ct(".cx-browseFile").trigger("click")})),Ct(".cx-message-input").textAreaAutoHeight({lineLimit:ke?8:11,callback:function(t){var a=e(".cx-transcript").height();e(".cx-transcript").height(a+t.delta),zt()}}),Ct(".cx-message-input").on("blur click keydown focus cut copy paste change",(function(e){"blur"==e.type?Ct(".cx-input-container").removeClass("cx-input-focus"):Ct(".cx-input-container").addClass("cx-input-focus")})),Ct(".cx-message-input").on("blur keydown keyup focus cut copy paste change",(function(t){var a=this,n=t.char;setTimeout((function(){var i=Ct(".cx-char-count"),r=!!nt.length,c=r?nt[nt.length-1]:0;0==a.value.length?Ct(".cx-send").fadeOut():Ct(".cx-send").fadeIn();var s=et-a.value.length;s<0&&(s=0),a.value.length>0?je&&(s>c&&(r?i.removeAttr("aria-live"):i.attr("aria-live","polite")),e(a).removeAttr("aria-labelledby")):je&&("blur"!==t.type&&e(a).attr("aria-labelledby","cx_textarea_label cx-charCount"),i.removeAttr("aria-live")),s>10?(r&&je&&(nt.length&&-1!=nt.indexOf(s)||s<=c)&&i.attr("aria-live","polite"),i.removeClass("cx-warning")):(i.attr("aria-live","polite"),i.addClass("cx-warning")),i.html(s),i.append("<div class='cx-aria-char-remaining cx-common-screen-reader'>"+w.AriaCharRemaining+"</div>"),n&&0==s&&(a.value=a.value.substr(0,et))}),0)})),Ct(".cx-form .cx-btn-default").on("keydown click",(function(e){t.validInput(e)&&v.command("close")})),Ct(".cx-form .cx-btn-primary").on("keydown click",(function(e){t.validInput(e)&&aa(e)})),Ct(".cx-alert.cx-chat-end button.cx-end-confirm").on("keydown click",(function(e){t.validInput(e)&&(ia(),ya())})),Ct(".cx-alert.cx-chat-end button.cx-end-cancel").on("keydown click",(function(e){t.validInput(e)&&ia()})),Ct(".cx-alert.cx-chat-error button.cx-error-button").on("keydown click",(function(e){t.validInput(e)&&(Zt(),ea())})),Ct(".cx-close-confirm").on("keydown click",(function(e){t.validInput(e)&&Ye&&(_t(Ye),la())})),Ct(".cx-close-cancel").on("keydown click",(function(e){t.validInput(e)&&la()})),ke||Ct(".cx-message-input").on("blur cut copy paste change keyup",(function(){!function(e){var t=e[0];t.clientHeight<t.scrollHeight&&(t.offsetWidth,t.clientWidth)}(e(this))})),Ct(".cx-message-input").on("keydown",(function(e){return 13!=e.which||e.ctrlKey||e.shiftKey?!(et&&-1===Ke.indexOf(e.which)&&[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(e.currentTarget.value)).length>=et)&&void(-1==st.indexOf(e.key)&&(v.command(Ve+".sendTyping",{isTyping:!0}),Qe&&ma())):(xa(),e.preventDefault(),e.stopPropagation(),Ct(".cx-message-input").trigger("keyup"),!0)})),Ct(".cx-send").on("keyup click",(function(e){(e.type&&"click"==e.type||e.which&&!e.ctrlKey&&(32===e.which||13===e.which))&&(xa(),Ct(".cx-message-input").focus())})),J.on("click keyup",(function(e){!0===v.data(Ve+".sleeping")&&v.command(Ve+".wake"),Qe&&(ma(),v.command(Ve+".wake",{resetIdleState:!0}))})),J.focusin((function(){var t,a=e(document.activeElement);ie||(ie=document.activeElement),ne=ie,t=re.filter((function(e){return a.hasClass(e)})),ne==document.activeElement||t.length||(ie=document.activeElement)})),Ie&&((ae=e(m)).find(".i18n").each((function(){e(this).data("message")&&e(this).html(w[e(this).data("message")])})),ae.find(".cx-btn-primary").on("keydown click",(function(e){t.validInput(e)&&(ca(),Bt())})).trigger("focus"),ae.find(".cx-btn-default").on("keydown click",(function(e){t.validInput(e)&&(ca(),ya())})),Ct(".cx-overlay.cx-async").append(ae)),jt(),t.populateAllPlaceholders(J,w),J},Bt=function(){se=!1,t.setCookie(pt,se),J.hide(),v.command("showChatButton"),Fe=!0},Ot=function(){Ct(".cx-browseFile")[0].value=null,J.find(".cx-menu .cx-upload").focus()},Mt=function(){Ct("form[data-async]").addClass("cx-parentDisable"),Ct(".cx-input, .cx-submit, .cx-form .cx-btn-default").attr("tabindex",-1),Ct(".cx-input, .cx-option").addClass("cx-disabled"),Ct(".cx-emoji").hide(),Ct(".cx-menu > .cx-icon[role='button']").addClass("cx-disabled")},Lt=function(){Ct("form[data-async]").removeClass("cx-parentDisable"),Ct(".cx-input, .cx-submit, .cx-form .cx-btn-default").removeAttr("tabindex"),Ct(".cx-input, .cx-option").removeClass("cx-disabled"),A.emojis&&Ct(".cx-emoji").show(),Ct(".cx-menu > .cx-icon[role='button']").removeClass("cx-disabled")},Nt=function(){Ct(".cx-form-wrapper").hide(),Ct("#cx_textarea_label").removeAttr("aria-hidden"),Ct(".cx-transcript").show(),Ct(".cx-input-container").show(),Ct(".cx-footer").hide(),J.addClass("cx-transcript-view"),_e=!0,jt(),Ct(".cx-message-input").trigger("keyup").trigger("focus"),(gt=v.data(Ve+".capabilities"))&&!gt.fileUpload&&(Se=!1,Y.hide()),yt=setInterval((function(){pe||kt||Ct(".cx-screen-reader-transcript").empty()}),5e3)},Pt=function(e,t,a){e=e||Ct(".cx-overlay.cx-dynamic");if("fill"==a){var n=t?0:Ct(".cx-footer").outerHeight();e.outerHeight(J.outerHeight()-n-Ct(".cx-titlebar").outerHeight())}else"fit"==a&&e.css("height","auto")},Wt=function(e,a,n){var i=e||Ct(".cx-overlay.cx-dynamic");Pt(i,a,n),i.show(),t.focusOverlay(i)},$t=function(e){(e||Ct(".cx-overlay.cx-dynamic")).hide()},qt=function(e,t){var a=w.Errors[e+""];return void 0!==a||de||(a=w.Errors.Generic),a||t||""},Ht=function(e){var a=(e||{}).data;Da(),M||(M=[]),M.push("restoreFailed"),$=_a(),v.publish("closed",za()),Ea(),Ra(),A.chatButton.enabled&&v.command("showChatButton"),v.command("reInvite",{statusCode:a&&a.status||""}),t.deleteCookie(dt),t.deleteCookie("_genesys.widgets.webchat.state.unreadMessages")},Ut=function(){Mt(),Ct(".cx-button-minimize, .cx-button-close").attr("tabindex",-1),e(".cx-transcript").is(":visible")&&(Ct(".cx-transcript").find("button").attr("tabindex",-1),Ct(".cx-transcript, .cx-transcript > * [tabindex=0], .cx-input-container * [tabindex=0]").attr("tabindex",-1),Ct(".cx-transcript *").attr("focusable",!1),Ct(".cx-transcript a").addClass("cx-a-disabled").attr("tabindex",-1),Ct(".cx-transcript").addClass("cx-scroll-disabled"),e(".cx-emoji-selection-menu").is(":visible")&&Ct(".cx-emoji-selection-menu > * [tabindex=0]").attr("tabindex",-1))},Gt=function(){e(".cx-input-container").is(":visible")&&Ct(".cx-input-container *").attr({tabindex:"-1","aria-disabled":!0})},Zt=function(t){Lt(),Ct(".cx-button-minimize, .cx-button-close").removeAttr("tabindex"),e(".cx-transcript").is(":visible")&&(Ct(".cx-transcript").find("button").removeAttr("tabindex"),Ct(".cx-transcript, .cx-transcript > * [tabindex=-1], .cx-input-container * [tabindex=-1]").attr("tabindex",0),Ct(".cx-transcript a").removeClass("cx-a-disabled").removeAttr("tabindex"),Ct(".cx-transcript *").removeAttr("focusable"),Ct(".cx-transcript").removeClass("cx-scroll-disabled"),e(".cx-emoji-selection-menu").is(":visible")&&Ct(".cx-emoji-selection-menu > * [tabindex=-1]").attr("tabindex",0))},Jt=function(a){Ut(),ft=setTimeout((function(){var n=e(h);return Ct(".cx-alert.cx-general").remove(),n.addClass("cx-binary-alert").find("p.i18n").html(a||w.Errors[500]||""),n.find(".i18n.cx-error-button.cx-btn-primary").html(w.ChatErrorPrimaryButton||"").on("keydown click",(function(e){t.validInput(e)&&v.command(Ve+".endChat").always((function(){v.command("close").always((function(e){v.command("open")}))}))})),n.find(".i18n.cx-error-button.cx-btn-default").html(w.ChatErrorDefaultButton||"").on("keydown click",(function(e){t.validInput(e)&&(Zt(),ea(n),wt||(wt=setTimeout((function(){v.command(Ve+".endChat").always((function(){Vt(w.Errors.CriticalFault)}))}),A.endChatOnErrorThreshold-A.promptEndChatOnError)))})),n.show(),t.populateLanguageStrings(n,w),n.insertBefore(Ct(".cx-webchat-smokescreen")),Ct(".cx-smokescreen").show(),n.find(".cx-btn-primary").trigger("focus"),vt=!0,n}),A.promptEndChatOnError)},Vt=function(a,n){if(!vt){var i=e(h);return Ut(),Ct(".cx-alert.cx-general").remove(),i.addClass("cx-normal-alert").find("p.i18n").html(a||w.ChatError||""),i.find(".i18n.cx-error-button").html(n||w.ChatErrorButton||"").on("keydown click",(function(a){t.validInput(a)&&(Zt(),ea(i),ne&&e(ne).focus())})),i.show(),t.populateLanguageStrings(i,w),i.insertBefore(Ct(".cx-webchat-smokescreen")),Ct(".cx-smokescreen").show(),i.find(".cx-btn-primary").trigger("focus"),i}},Yt=function(){t.showWaiting(J),Mt()},Kt=function(){t.hideWaiting(J),Lt(),ne&&e(ne).focus()},Xt=function(a){Ut();var n=e(u);return Ct(".cx-alert.general").remove(),n.find(".cx-buttons-binary").hide(),a.isRetryAllowed&&(n.find(".cx-buttons-binary").show(),n.find(".cx-buttons-single").hide()),t.populateAllPlaceholders(n,w),n.find(".cx-reason").html(a.sErrors||""),n.find(".cx-upload-cancel").html(w.FileTransferError||"").on("keydown click",(function(e){t.validInput(e)&&(ea(n),Ct("div.cx-spinner").remove(),Lt(),Zt(),Ot())})),n.find(".cx-upload-confirm").html(w.FileTransferRetry||"").on("keydown click",(function(e){t.validInput(e)&&(Zt(),ea(n),Yt(),v.command(Ve+".sendFile",{files:a.file}).done((function(e){Ot()})).fail((function(e){Ot(),Ct("div.cx-spinner").remove(),Lt()})).always((function(){Kt()})))})).focus(),a.isRetryAllowed&&(n.find(".cx-buttons-single").hide(),n.find(".cx-buttons-double").show(),n.find(".cx-upload-cancel").html(w.FileTransferCancel||"")),n.show(),Ct(".cx-smokescreen").show(),n.insertBefore(Ct(".cx-webchat-smokescreen")),n.find(".cx-btn-primary").trigger("focus"),t.focusOverlay(n),n},Qt=function(){var a=Ct(".cx-survey-offer");da(),a.find(".cx-survey-question-body").html(w.SurveyOfferQuestion),a.find(".cx-survey-confirm").html(w.ShowSurveyAccept).on("keydown click",(function(e){t.validInput(e)&&(window.open(Ge),pa())})),a.find(".cx-survey-cancel").html(w.ShowSurveyReject).on("keydown click",(function(a){t.validInput(a)&&(e.ajax({url:Ze,type:"POST",crossDomain:!0}),pa())})),ge=!1},ea=function(t){vt&&(vt=!1),t?t.remove():Ct(".cx-alert.cx-general").remove(),Ct(".cx-smokescreen").hide(),Ct(".cx-form-wrapper").is(":visible")&&Ct("input.cx-error").length?Ct("input.cx-error:first").trigger("focus"):ne&&e(ne).focus()},ta=function(t){var a=Ct(".cx-form");switch(t+""){case"102":a.find("input[name=firstname]").addClass("cx-error").attr("aria-invalid",!0);break;case"103":a.find("input[name=lastname]").addClass("cx-error").attr("aria-invalid",!0);break;case"161":a.find("input[name=firstname], input[name=lastname]").addClass("cx-error").attr("aria-invalid",!0);break;case"364":a.find("input[name=email]").addClass("cx-error").attr("aria-invalid",!0)}Ct("input.cx-error").one("input",(function(t){t.target.value&&null!=t.target.value&&""!=t.target.value&&e(this).removeClass("cx-error").attr("aria-invalid","false")}))},aa=function a(n){var i=e(this).data("userData")||n.userData||{},r=function(){var e={},a={},n={firstname:1,lastname:1,email:1,subject:1,nickname:1},i={};return Ct(".cx-form .cx-input").each((function(){n[this.name]?e[this.name]=t.getInputValue(this):a[this.name]=t.getInputValue(this),i[this.name]=t.getInputValue(this)})),{reserved:e,userData:a,form:i}}();i=e.extend(i,qe,r.userData),Ct(".cx-form input").removeClass("cx-error").removeAttr("aria-invalid"),t.validateForm(Ct(".cx-form"))&&(t.showLoading(J),Ut(),Ct(".cx-smokescreen").show(),z=r.form,v.publish("submitted",za()),v.command(Ve+".startChat",e.extend(r.reserved,{userData:i,async:Ie,form:r.form,interactionData:He})).fail((function(e){G=_a(),v.publish("rejected",za()),1==e.statusCode?Vt(w.Errors.ChatUnavailable):"retry"==e.statusCode&&a(n)})).always((function(){t.hideLoading(J),Zt()})))},na=function(){Ct(".cx-alert.cx-chat-end").show(),Ct(".cx-end-confirm").trigger("focus"),Ut(),Ct(".cx-smokescreen").show(),t.focusOverlay(e(".cx-alert.cx-chat-end"),".cx-end-confirm")},ia=function(){Ct(".cx-alert.cx-chat-end").hide(),Ct(".cx-smokescreen").hide(),Zt(),ne&&e(ne).focus()},ra=function(){Ct(".cx-alert.cx-async-chat-end").show(),Ut(),Ct(".cx-smokescreen").show(),Wt(Ct(".cx-overlay.cx-async"),!1,"fit"),Ct(".cx-async-chat-close").trigger("focus"),t.focusOverlay(e(".cx-alert.cx-async-chat-end"),".cx-async-chat-close")},ca=function(){Ct(".cx-alert.cx-async-chat-end").hide(),Ct(".cx-smokescreen").hide(),$t(Ct(".cx-overlay.cx-async")),Zt(),ne&&e(ne).focus()},sa=function(){Ct(".cx-history-loading").hide(),Oe=!1},oa=function(a){Ye=a,Ct(".cx-alert.cx-chat-close"),Ct(".cx-alert.cx-chat-close").show(),Ct(".cx-close-confirm").trigger("focus"),Ut(),Ct(".cx-smokescreen").show(),t.focusOverlay(e(".cx-alert.cx-chat-close"),".cx-close-confirm")},la=function(){Ct(".cx-alert.cx-chat-close").hide(),Ct(".cx-smokescreen").hide(),Zt(),ne&&e(ne).focus()},da=function(){Ct(".cx-alert.cx-survey-offer").show(),Ct(".cx-survey-confirm").trigger("focus"),Ut(),Ct(".cx-smokescreen").show(),t.focusOverlay(e(".cx-alert.cx-survey-offer"),".cx-survey-confirm")},pa=function(){Ct(".cx-alert.cx-survey-offer").hide(),Ct(".cx-smokescreen").hide(),Zt(),ne&&e(ne).focus()},xa=function(e){if(de){var t=e||Ct(".cx-message-input").val()||"";""!=(t=(t=t.substr(0,et)).trim())&&(v.command(Ve+".sendMessage",{message:t,type:"text"}).done((function(e){e&&1==e.statusCode&&(Vt(w.Errors.MessageFailed),Ct(".cx-message-input").val(t)),Ct(".cx-send").fadeOut()})),e||Ct(".cx-message-input").val("").trigger("change"))}},ua=function(){A.unminimizeOnAlert?v.command("minimize"):($e++,t.getCookie(ut)&&!pe&&It(),Et()),ne&&e(ne).focus()},ha=function(a,n){var i="",r=Ct(".cx-overlay.cx-static"),c=!1;r.addClass("cx-idle-dialog"),"IdleAlert"==a.type?(r.attr("role","alert"),Qe++,fe&&ua(),i=w["IdleMessage"+Qe]||a.text,a.userData&&"CLOSE"==a.userData["next-idle-timer-type"]&&(c=1e3*parseInt(n||a.userData["next-idle-timer-secs"]))):"IdleClose"==a.type&&(r.attr("role","alert"),Qe=-1,fe&&ua(),i=w.IdleMessageClose||a.text),bt&&(bt.remove(),$t(r)),bt=e("<div id='cx_idle_message'>"+i+"</div>"),r.empty().append(bt),c&&(r.removeAttr("role"),bt.append("<div class='cx-idle-countdown'></div>"),t.populateAllPlaceholders(bt),bt.find(".cx-idle-countdown").append(t.Generate.Countdown({time:c,showIcon:!0,sIdleMessageId:"cx_idle_message",aCountdownIntervals:tt}))),Wt(r,!1,"fit"),bt.addClass("cx-idle-alert"),-1==Qe&&(Qe=0)},ma=function(){Qe=0,bt&&(bt.remove(),$t(Ct(".cx-overlay.cx-static"))),bt=!1},ba=function(t,a){var n="";return a||(a=w.AgentNameDefault),t&&((n=e("<img alt="+a+">"))[0].src=t),n},ga=function(a){var n=ee,i=ee,r="",d=a.type||"",u="",h=a.action,m=a.bHTML,b=a.index,g="",f=!1,y=a.timestamp&&ja(a.timestamp),k=y&&t.getDateString(y.date),C=y&&function(a,n){var i=t.getDateString(new Date);return e(i===n?"<div class='cx-message cx-date' data-date="+a.date+">"+w.todayLabel+"</div>":"<div class='cx-message cx-date' data-date="+a.date+">"+a.dayName+", "+a.monthName+" "+a.dayNumber+"</div>")}(y,k),S=!1,T="",_=a.avatar,j=gt&&gt.pagination,I=t.linkify(t.sanitizeHTML(a.text)),E=!1;if(m?a.text=a.text:e("<p>"+I+"</p>").find("a").length&&(a.text=I,m=!0),a.originalMessage&&a.originalMessage.index&&(g=a.originalMessage.index),De&&te&&(n=te,i=te,te=!1),a.timestamp&&i.data("time")&&(T=De?new Date(i.data("time")).getTime()-new Date(a.timestamp).getTime():new Date(a.timestamp).getTime()-new Date(i.data("time")).getTime()),i&&a.name==i.data("name")&&T<=We&&"External"!=d&&(i.hasClass("cx-them")&&va(d)||i.hasClass("cx-you")&&"Client"===d)?S=i.parent():f=!0,"injected"==d&&!0===a.bCustom||"injected"!=d&&!1===a.bubble?n=e("<div></div>"):"object"==c(a.bubble)?(n=e(l),a.bubble.fill&&(n.find(".cx-bubble").css({"background-color":a.bubble.fill}),n.find(".cx-bubble-arrow svg").css({fill:a.bubble.fill})),a.bubble.radius&&n.find(".cx-bubble").css({"border-radius":a.bubble.radius}),!1===a.bubble.time&&n.find(".cx-time").hide(),!1===a.bubble.name&&n.find(".cx-name").hide(),!1===a.bubble.avatar&&(n.find(".cx-avatar-wrapper, .cx-bubble-arrow").hide(),n.find(".cx-bubble").css({"margin-left":0,"margin-right":0}))):"Agent"==d||"External"==d||"Supervisor"==d||"Bot"===d?(n=e(o),"External"==d||"Bot"==d?O++:B++,"Agent"!=d&&"Supervisor"!=d&&"Bot"!=d||"FileTransfer"!=h||(n=e(x),fa(n,a),m=!1),Qe&&ma()):"Client"==d?(n=e(l),R++,"FileTransfer"!=h||a.loading||(Ct("div.cx-spinner").remove(),n=e(p),fa(n,a),m=!1),ma()):n=e("<div><span class='cx-avatar'></span><span class='cx-name'></span><span class='cx-message'></span></div>"),!Ie&&!j||le||!y||De||ct===y.dayNumber||(Ct(".cx-transcript").append(C),ct=y.dayNumber),"injected"==d)n.addClass("cx-injected");else if("External"==d){var z=t.getI18nString(a.text,w);z&&(r=a.text,a.text=z),n.addClass("cx-system"),n.attr({"data-message":r,"data-message-type":"transcript"}),n.find(".aria-name").empty().text(w.AriaSystemSaid),n.addClass("i18n")}else n.addClass("cx-participant"),va(d)?(n.addClass("cx-them").addClass("cx-"+d).addClass("cx-"+d.toLowerCase()),n.find(".aria-name").empty().text(d+" "+(a.name?a.name:"")+" "+w.AriaSaid)):(n.addClass("cx-you"),n.find(".aria-name").empty().text(w.AriaYouSaid)),A.avatars&&(va(d)&&A.avatars.agent&&A.avatars.bot?"Bot"==d?n.find(".cx-avatar").html(t.Generate.Icon(A.avatars.bot)).addClass(A.avatars.bot):n.find(".cx-avatar").html(t.Generate.Icon(A.avatars.agent)).addClass(A.avatars.agent):"Client"==d&&A.avatars.customer&&n.find(".cx-avatar").html(t.Generate.Icon(A.avatars.customer)).addClass(A.avatars.customer));if(_){var F=ba(_,d);"Client"==d?n.find(".cx-avatar.user").html(F):"Bot"==d?n.find(".cx-avatar.bot").html(F):n.find(".cx-avatar.agent").html(F)}"object"==c(a.bubble)&&("object"==c(a.bubble.avatar)&&(a.bubble.avatar.custom&&n.find(".cx-avatar-wrapper").html(a.bubble.avatar.custom),a.bubble.avatar.icon&&(n.find(".cx-avatar").removeClass(A.avatars.agent+" "+A.avatars.customer+" "+A.avatars.bot),n.find(".cx-avatar").html(t.Generate.Icon(a.bubble.avatar.icon)).addClass(a.bubble.avatar.icon))),"left"==a.bubble.direction?n.removeClass("cx-them cx-you cx-system").addClass("cx-them"):"right"==a.bubble.direction?n.removeClass("cx-them cx-you cx-system").addClass("cx-you"):"none"==a.bubble.direction&&n.removeClass("cx-them cx-you cx-system")),n.find(".cx-name").text(a.name);var D=n.find(".cx-message-text");if(!0===a.bCustom||!1===a.bubble?n.html(a.text):m?D.html(a.text):D.text(a.text),!Me&&D&&D[0]&&(D[0].innerHTML=D[0].innerHTML.replace(/\n|\r/g,"<br/>")),Ct(".cx-transcript .cx-NewTextBubble").removeClass("cx-NewTextBubble"),n.addClass("cx-NewTextBubble"),"FileTransfer"==h&&(a.loading?n=e(s):a.transferFailed&&(n=e("<div></div>"))),S||(S=e("<div class='cx-message-group'></div>")),n&&(g||b)&&(n[0].id="cx-chat-index-"+(g||b)),De?b<=it?(S.prepend(n),Ct(".cx-transcript .cx-loading-container").after(S),f&&ct!==y.dayNumber?(Ct(".cx-transcript .cx-loading-container").after(C),ct=y.dayNumber):(Ct('.cx-transcript div[data-date="'+k+'"]').remove(),Ct(".cx-transcript .cx-loading-container").after(C)),it=b):b>rt&&S.append(n):(S.append(n),Ct(".cx-transcript").append(S)),ee=n,Ie&&0===a.key&&(te=n),n.hide().fadeIn(),Aa(),fe&&J.addClass("cx-NewMessage"),a.timestamp&&(u=t.getFormattedTime(a.timestamp,Je),n.find(".cx-time").text(u),n.data("time",a.timestamp)),n.data("name",a.name),n&&(Ca(),"Client"!=a.type&&$e++,fe&&(t.getCookie(ut)&&!pe&&It(),Et())),De||((E=n.clone()).removeAttr("id"),Ct(".cx-screen-reader-transcript").append(E)),De&&Re&&a.key&&a.length){var M=a.key,L=a.length-1;M!==L&&M!==L-1||Ta()}else Aa();return a.text&&""!=a.text.replace(" ","")||n.addClass("cx-hidden-message"),v.publish("messageAdded",{data:a,message:a,originalMessage:a.originalMessage,html:n||void 0,transcript:Ct(".cx-transcript")[0]||void 0,index:b,id:"cx-chat-index-"+(g||b),prevMessageHTML:i}),n},fa=function(e,a){if(!a.transferFailed){a.size||(a.size=t.checkPath(a,"originalMessage.userData.file-size")||0);var n=t.bytesToSize(parseInt(a.size))||"",i=e.find(".cx-download-btn");e.find(".cx-name").text(a.name),e.find(".cx-filesentmsg").text(w.FileSent),e.find(".cx-filename").text(wa(a.filename)),e.find(".cx-filename").attr("title",a.filename),e.find(".cx-filesize").text(n),i.html(w.DownloadButton),i.attr({"aria-label":w.AriaDownloadButton+" "+a.filename}),i.attr("fileId",a.fileId),i.on("keydown click",(function(e){t.validInput(e)&&v.command(Ve+".downloadFile",{fileId:this.getAttribute("fileId"),fileName:a.filename||""})})),Lt()}},wa=function(e){return(e=e||"").length>36&&(e=e.substr(0,16)+"..."+e.substr(e.length-5,e.length)),e},va=function(e){return"Agent"==e||"Supervisor"==e||"Bot"==e},ya=function(e){v.command(Ve+".endChat"),t.hideWaiting(J),t.hideLoading(J),Gt()},ka=function(e){if(J){var t=e&&e.data||"";t&&t.from?(Ct(".cx-transcript .cx-agent-typing[data-id="+t.from.id+"]").remove(),Aa()):(Ct(".cx-transcript .cx-agent-typing").remove(),Aa()),J.removeClass("cx-agent-typing")}},Ca=function(){J&&Ct(".cx-transcript").append(Ct(".cx-agent-typing").detach())},Aa=function(){var e=Ct(".cx-transcript")[0];!e||Re||Oe||(e.scrollTop=e.scrollHeight,ce=e.scrollHeight)},Sa=function(){J&&J.find(".cx-transcript").on("mousewheel touchend keyup scroll",function(t,a){var n=null;return function(){var i=this,r=arguments,c=arguments[0]||!1,s=c&&-1!==Xe.indexOf(c.which);de&&e(i).scrollTop()<=0&&s&&Ct(".cx-history-loading").show(),clearTimeout(n),n=setTimeout((function(){t.apply(i,r)}),a)}}((function(t){if(!Be&&de){var a=t&&-1!==Xe.indexOf(t.which);e(this).scrollTop()<=0&&!Oe&&a&&(Oe=!0,e(this).scrollTop(0),v.command(Ve+".fetchHistory").always((function(){sa()})))}}),150))},Ta=function(){var e=Ct(".cx-transcript")[0],t=parseInt(parseInt(e.scrollHeight)-parseInt(ce));Ct(".cx-transcript").animate({scrollTop:t},500,"swing"),ce+=t,Re=!1},_a=function(){return(new Date).getTime()},ja=function(e){var a=!1,n=new Date(e);return n&&(a={monthName:w.MonthLabels[n.getMonth()],dayName:w.DayLabels[n.getDay()],dayNumber:n.getDate(),date:t.getDateString(n)}),a},Ia=function(){ft&&(clearTimeout(ft),ft=""),wt&&(clearTimeout(wt),wt="")},Ea=function(){T=!1,j=!1,I=!1,E=!1,z={},_=!1,F=0,D=0,R=0,B=0,O=0,M=[],L=!1,N=!1,P=!1,W=!1,$=!1,G=!1,q=!1,H=!1,U=!1,Z=null},za=function(e){var t=(e||{}).initialState,a={proactive:T,proactiveData:_,prefilled:j,autoSubmitted:I,coBrowseInitiated:E,filesUploaded:F,numAgents:D,userMessages:R,agentMessages:B,systemMessages:O,errors:M.length>0&&M,opened:L,started:N,cancelled:P,rejected:G,completed:W,closed:$,elapsed:($||_a())-L,waitingForAgent:!!q&&q-N,agentReached:q,botReached:H,supervisorReached:U,form:z,id:Z};return t||Fa(a),v.data("metadata",a),a},Fa=function(e){var a=r({},e);a.form={},t.setCookie(ht,JSON.stringify(a))},Da=function(){var e=JSON.parse(t.getCookie(ht)||!1)||!1;e&&(T=e.proactive,_=e.proactiveData,j=e.prefilled,I=e.autoSubmitted,E=e.coBrowseInitiated,F=e.filesUploaded,D=e.numAgents,R=e.userMessages,B=e.agentMessages,O=e.systemMessages,M=e.errors,L=e.opened,N=e.started,P=e.cancelled,W=e.completed,$=e.closed,q=e.agentReached,H=e.botReached,U=e.supervisorReached,Z=e.id)},Ra=function(){t.deleteCookie(ht)},Ba=function(){"minimized"===A.async.newMessageRestoreState?(fe=!0,t.setCookie(xt,$e),$e++,v.command("open",{minimized:!0})):v.command("open")},Oa=function(a){var n=a.data||{},i=n.proactive,r=n.proactiveData,s=n.id;a.data&&"boolean"==typeof a.data.async&&Ee&&(Ie=a.data.async),Me=a.data&&"boolean"==typeof a.data.markdown?a.data.markdown:A.markdown,a.data.restoring||ze||(t.deleteCookie("_genesys.widgets.webchat.state.unreadMessages"),de=!1,oe=!1,le=!1,pe=!1,Ea()),v.command("Toaster.close"),Z=s||Z||t.guid(),J&&J[0]||(J=Rt()),"object"!=c(a.data.formJSON)||Array.isArray(a.data.formJSON)||Ft(a.data.formJSON),Ct(".cx-message-input").attr("maxlength",et),Ct("#cx_textarea_label").text(Ct(".cx-message-input").attr("placeholder")||w.AriaMessageInput),Ct(".cx-char-count").html(et),Array.isArray(at)&&at.length&&at.forEach((function(e){nt.push(e/100*et)})),!1===a.data.form||ze?Nt():(Ct(".cx-form-wrapper").show(),Ct(".cx-transcript").hide(),Ct(".cx-input-container").hide(),Ct(".cx-footer").show(),_e=!1),Ct(".cx-emoji").hide(),!0!==A.emojis||ke&&(A.emojiListConfig||A.emojiListI18n)||Ct(".cx-emoji").show(),!1===Se?Y.hide():!0===Se&&Y.show(),!1===je?Ct(".cx-char-count").hide():!0===je&&Ct(".cx-char-count").show(),v.command("WindowManager.registerDockView",{html:J,draggable:!0}).done((function(n){if(!0===a.data.minimized&&v.command("minimize",{minimized:!0}),se=!0,qe=e.extend(!0,a.data.attachedData,a.data.userData),He=a.data.interactionData||{},v.command("hideChatButton"),ke||Ce?J.addClass("cx-mobile"):J.addClass("cx-desktop"),t.populateAllPlaceholders(J,w),jt(),v.command(Ve+".registerTypingPreviewInput",{input:Ct(".cx-message-input")}),a.data&&"object"===c(a.data.form)){var s=a.data.form;Ct("#cx_webchat_form_firstname").val(s.firstname||""),Ct("#cx_webchat_form_lastname").val(s.lastname||""),Ct("#cx_webchat_form_email").val(s.email||""),Ct("#cx_webchat_form_subject").val(s.subject||""),j=!0,!0===s.autoSubmit&&(I=!0,aa({userData:qe||{},interactionData:He||{}}))}a.data.userData&&null!=c(a.data.userData.webengagement)&&(T=!0),!0!==i&&void 0===r||(T=!0,_=!!(r&&Object.keys(r).length>0)&&r),L||(L=_a()),v.publish("opened",za()),zt(),Ct(".cx-message-input").trigger("keyup"),(Ie||gt&&gt.pagination)&&(J.find(".cx-transcript").prepend(e(f)),t.populateIcons(J),Sa()),Aa(),e(".cx-form-wrapper").is(":visible")&&J.find("input").first().focus(),a.data.restoring&&J.find(".cx-input-container .cx-message-input ").focus(),a.deferred.resolve()})).fail((function(){a.deferred.reject("WindowManager.registerDockView failed")}))};v.subscribe(Ve+".error",(function(a){if(a=a.data||a,se){switch(M||(M=[]),a.status+""){case"400":if(a.status+""=="400"&&a.responseJSON&&a.responseJSON.error)Vt(w.Errors.StartFailed);else if(a.responseJSON&&a.responseJSON.errors){var n="";e.each(a.responseJSON.errors||[],(function(e){M.push(this.code+""),e>0&&(n+="<br/><br/>"),n+=qt(this.code),ta(this.code),t.log(this)})),n&&Vt(n)}else{n="";a.responseText&&"string"==typeof a.responseText&&(a.responseText=JSON.parse(a.responseText)||[]),e.each(a.responseText.errors||[],(function(e){e>0&&(n+="<br/><br/>");var a=wa(this.filename),i={};switch(i={sErrors:n=(n+=qt(this.code)).replace("<%FilenameFull%>",this.filename).replace("<%FilenameTruncated%>",a)},M.push(this.code+""),this.code+""){case"201":n=n.replace("<%MaxFilesAllowed%>",this.advice),i.sErrors=n,Xt(i);break;case"202":var r=t.bytesToSize(parseInt(this.advice));n=n.replace("<%MaxAttachmentsSize%>",r),i.sErrors=n,Xt(i);break;case"203":Xt(i)}t.log(this)}))}break;case"0":if(de){if("FileUploadError"==a.errorReason){var i=wa(a.filename),r={},c=[];n=(n=w.Errors.FileSendFailed).replace("<%FilenameFull%>",a.filename).replace("<%FilenameTruncated%>",i),c[0]=a.file,r.files=c,Xt({sErrors:n,isRetryAllowed:!0,file:r})}}else Vt(w.Errors.StartFailed)}if(a.errors){var s="",o=!1;M||(M=[]),e.each(a.errors||[],(function(e){var a=(this.response||{}).status;M.push(this.code+""),e>0&&(s+="<br/><br/>"),s+=qt(this.code,this.text),!de||ft||!a||401!==a&&403!==a&&"5"!=a.toString().charAt(0)||(o=!0,s=qt(a,this.text)),t.log(this)})),s&&(o?Jt(s):Vt(s))}}})),v.subscribe(Ve+".started",(function(){de=!0,he=!1,ue=!1,oe=!1,le=!1,v.command("App.registerAutoLoad"),ke&&Ct(".cx-footer").hide(),Nt(),Tt(),N||(N=_a(),v.publish("started",za())),J.removeClass("cx-disabled"),Ct(".cx-smokescreen").hide(),k()})),v.subscribe("Survey.onSubmit",(function(e){})),v.subscribe("CoBrowse.online",(function(e){we=!0,jt()})),v.subscribe("CoBrowse.started",(function(e){!e.data.widgetOrigin||"WebChat"==e.data.widgetOrigin&&e.data&&e.data.token?(E=!0,"WebChat"==e.data.widgetOrigin&&(Ne=e.data.token,v.command(Ve+".sendMessage",{message:"{start:"+Ne+"}"}))):"WebChat"!=e.data.widgetOrigin&&(ye=!0),ve=!0,jt()})),v.subscribe("CoBrowse.stopped",(function(){Ne=!1,ve=!1,ye=!1,jt(),V&&e(V).focus()})),v.subscribe(Ve+".messageReceived",(function(t){if(sa(),Ia(),kt=!1,t.data&&t.data.messages&&t.data.messages.length){var n=t.data.messages,i=t.data.originalMessages,r=t.data.idleTimeCountDown||"",c=!1;t.data.oldMessages?(De=!0,Re=!0):(De=!1,Re=!1),it=n[0].index,rt=n[n.length-1].index,Qe&&!r&&ma(),e.each(n||[],(function(e){var t=this,s=[],o=t.from?t.from.type:"",l=t.from?t.from.name:"",d=(t.type||"").toLowerCase(),p=!1,x=t.html||!1;if(s=i.filter((function(e){return e.index===t.index})),s&&s.length&&(s=s[0]),Me&&"message"==d&&"External"!==o&&!x&&t.text&&(t.text=a(t.text,{sanitize:!0}),t.html=!0),"message"==d||"pushurl"==d||"structured"==d||"text"==d)ga({restoring:t.restoring,index:t.index,name:l,avatar:t.avatar,text:t.text,type:o,timestamp:t.timestamp,originalMessage:s,bHTML:t.html||!1,bCustom:t.custom||!1,bubble:t.bubble||!0,key:e,length:n.length}),c=!0;else if("participantjoined"==d||"participantleft"==d){if("participantjoined"==d)switch(o){case"Client":oe||(p="ChatStarted",oe=!0,le=!1,Ct(".cx-form input").val(""));break;case"Agent":p="AgentConnected";break;case"Supervisor":p="SupervisorConnected",U=_a();break;case"Bot":p="BotConnected"}else if("participantleft"==d){switch(o){case"Agent":p="AgentDisconnected";break;case"Supervisor":p="SupervisorDisconnected";break;case"Bot":p="BotDisconnected"}"Agent"==o&&(p="AgentDisconnected"),"Supervisor"==o&&(p="SupervisorDisconnected"),"Bot"==o&&(p="BotDisconnected")}p&&(ga({restoring:t.restoring,index:t.index,name:l,text:"Bot"==o?w[p].replace("<%Bot%>",l||w.BotNameDefault):w[p].replace("<%Agent%>",l||w.AgentNameDefault),type:"External",timestamp:t.timestamp,bHTML:t.html||!1,originalMessage:s}),c=!0)}else"nicknameupdated"==d||("idlealert"==d||"idleclose"==d?ha(t,r):"fileuploaded"==d?(ga({type:o,timestamp:(new Date).getTime(),filename:t.fileDetails["file-name"],name:l,size:t.fileDetails["file-size"],fileId:t.fileDetails["file-id"],text:w.FileSent,action:"FileTransfer",bHTML:t.html||!1,originalMessage:s,restoring:!1}),F++,c=!0):"filedeleted"==d||"customnotice"==d&&"_GCTI_GSS"==l&&(Ge=JSON.parse(t.text).Survey_URL||"",Ze=JSON.parse(t.text).Cancel_URL||"",(me||be)&&(ge=!0)));"Client"==o&&Qe&&ma()})),pe&&(pe=!1),Fe&&c&&Ba()}})),v.subscribe(Ve+".restoreTimeout",Ht),v.subscribe(Ve+".restoreFailed",Ht),v.subscribe(Ve+".sessionLost",(function(){var a=e(h);return Ut(),Ct(".cx-alert.cx-general").remove(),a.addClass("cx-binary-alert").find("p.i18n").html(w.Errors[404]||""),a.find(".i18n.cx-error-button.cx-btn-primary").html(w.ChatErrorPrimaryButton||"").on("keydown click",(function(e){t.validInput(e)&&v.command("close").done((function(e){de=!1,v.command("open")}))})),a.find(".i18n.cx-error-button.cx-btn-default").html(w.ChatErrorDefaultButton||"").on("keydown click",(function(e){t.validInput(e)&&v.command("close")})),a.show(),t.populateLanguageStrings(a,w),a.insertBefore(Ct(".cx-webchat-smokescreen")),Ct(".cx-smokescreen").show(),a.find(".cx-btn-primary").trigger("focus"),t.focusOverlay(a,".cx-error-button"),a})),v.subscribe(Ve+".agentConnected",(function(e){Ia(),q=_a(),D=Object.keys(e.data.agents).length,za(),me=!0,""!=Ge&&(ge=!0),jt(),Tt()})),v.subscribe(Ve+".agentDisconnected",(function(e){me=0!==e.data.numAgentsConnected,jt()})),v.subscribe(Ve+".botConnected",(function(e){Ia(),H=_a(),za(),be=!0,""!=Ge&&(ge=!0)})),v.subscribe(Ve+".botDisconnected",(function(e){be=!1})),v.subscribe(Ve+".restored",(function(e){de=!0,pe=!0,kt=!0;var a=t.getCookie(dt);(fe||"true"==a)&&(Be=!0),Ie=!(!e.data||!e.data.async),Me="boolean"==typeof A.markdown&&A.markdown;var n=JSON.parse(t.getCookie(pt)||!1)||!1;J=Rt(),Da(),ke&&Ct(".cx-footer").hide(),Et(),e.pending&&!0,J.removeClass("cx-disabled"),Ie&&!n?ze=!0:v.command("open",{restoring:!0,form:!1,minimized:!!("true"==a||ke&&A.minimizeOnMobileRestore)}),Aa(),jt()})),v.subscribe(Ve+".ended",(function(t){de=!1,De=!1,Re=!1,le=!0,ze=!1,ct=0,clearInterval(yt),yt=!1,k(),v.command("App.deregisterAutoLoad"),ga({index:(new Date).getTime(),name:"",text:w.ChatEnded,type:"External",timestamp:0}),Qe&&ma(),ge&&Qt(),q||H?(W=_a(),v.publish("completed",za())):0==W&&(P=_a(),v.publish("cancelled",za())),Ct(".cx-transcript .cx-agent-typing").length&&ka(),J.addClass("cx-disabled"),jt(),Ra(),e(J.find("[role=alert] button")).is(":visible")||e(J.find("[role=alertdialog]")).is(":visible")||J.find(".cx-button-group .cx-button-close").focus(),Ct(".cx-screen-reader-transcript").empty()})),v.subscribe(Ve+".agentTypingStarted",(function(a){if(0==Ct(".cx-transcript .cx-agent-typing").length){var n,i=e(o),r=a.data.from.avatar||!1,c=r?ba(r,w.AgentNameDefault):t.Generate.Icon(A.avatars.agent);i.addClass("cx-agent-typing cx-them"),i.attr("data-id",a.data.from.id||"test"),i.find(".cx-name").text(a.data.from.name||w.AgentNameDefault),i.find(".cx-message-text").text(w.AgentTyping.replace("<%Agent%>",a.data.from.name||w.AgentNameDefault)),i.find(".cx-avatar").html(c),w.AriaAgentTyping&&(i.find(".cx-message-text").attr("aria-hidden",!0),i.find(".cx-bubble").append('<div class="cx-common-screen-reader">'+w.AriaAgentTyping.replace("<%Agent%>",a.data.from.name||w.AgentNameDefault)+"</div>")),n=i.clone(),Ct(".cx-transcript").append(i),Ct(".cx-screen-reader-transcript").append(n),i.find(".cx-avatar").hide().fadeIn(),i.find(".cx-bubble").hide().slideDown(),Aa()}})),v.subscribe(Ve+".agentTypingTimeout",ka),v.subscribe(Ve+".agentTypingStopped",ka),v.subscribe(Ve+".restoredOffline",(function(a){Vt(w.Errors.RestoredOffline).find(".cx-btn-primary").on("keydown click",(function(a){t.validInput(a)&&(ne&&e(ne).focus(),v.command(Ve+".resetPollExceptions"))}))})),v.subscribe(Ve+".chatServerWentOffline",(function(a){Vt(w.Errors.ChatServerWentOffline).find(".cx-btn-primary").on("keydown click",(function(a){t.validInput(a)&&(ne&&e(ne).focus(),v.command(Ve+".resetPollExceptions"))}))})),v.subscribe(Ve+".chatServerBackOnline",(function(e){ea()})),v.subscribe(Ve+".disconnected",(function(e){Ae||(Vt(w.Errors.Disconnected),Ae=!0,t.showWaiting(J),Mt())})),v.subscribe(Ve+".reconnected",(function(e){if(Ae){var a=Vt(w.Errors.Reconnected);Ae=!1,setTimeout((function(){ea(a)}),2e3),Ia(),t.hideWaiting(J),Lt(),Zt()}})),v.subscribe(Ve+".capabilitiesChanged",(function(){var e=v.data(Ve+".capabilities");Y&&A.uploadsEnabled&&e&&"boolean"==typeof e.fileUpload&&(e.fileUpload?Y.show():Y.hide())})),v.registerCommand("open",(function(e){t.setCookie(pt,!0),gt=v.data(Ve+".capabilities"),Fe?(v.command("hideChatButton"),se=!0,Fe=!1,J.show(),Aa(),!0===e.data.minimized&&v.command("minimize",{minimized:!0})):se?e.deferred.reject("already opened"):!e.data.restoring&&!ze&&gt&&gt.async?v.command(Ve+".asyncRestore").done((function(){e.deferred.resolve()})).fail((function(){Oa(e)})):Oa(e)})),v.registerCommand("close",(function(e){Te&&!oe&&!le&&function(){var e=!1;return Ct(".cx-form .cx-input").each((function(){if(this.value)return e=!0,!1})),e}()?(fe&&v.command("minimize"),oa(e)):_t(e)})),v.registerCommand("configure",(function(a){if(a.data&&Object.keys(a.data).length){var n=a.data,i=A;if("boolean"==typeof n.inviteOnRestoreTimeout&&(i.inviteOnRestoreTimeout=n.inviteOnRestoreTimeout),"boolean"==typeof n.markdown&&(i.markdown=n.markdown),"object"==c(n.chatButton)){var r=n.chatButton;"boolean"==typeof r.enabled&&(i.chatButton.enabled=r.enabled),"number"==typeof r.openDelay&&(i.chatButton.openDelay=parseInt(r.openDelay)),"string"==typeof r.template&&(i.chatButton.template=r.template),"string"==typeof r.effect&&(i.chatButton.effect=r.effect),"number"==typeof r.effectDuration&&(i.chatButton.effectDuration=parseInt(r.effectDuration)),"boolean"==typeof r.hideDuringInvite&&(i.chatButton.hideDuringInvite=r.hideDuringInvite),"string"==typeof r.servicePlugin&&(Ve=r.servicePlugin),(Q=e(i.chatButton.template)).on("keydown click",(function(e){t.validInput(e)&&v.command("open")})),Q.find(".cx-icon").html(t.Generate.Icon("chat")),Q.attr("aria-label",w.ChatButton),i.chatButton.enabled&&v.command("showChatButton")}if("object"==c(n.proactive)){var s=n.proactive;"boolean"==typeof s.enabled&&(i.proactive.enabled=s.enabled),"number"==typeof s.idleTimer&&(i.proactive.idleTimer=s.idleTimer),"number"==typeof s.cancelTimer&&(i.proactive.cancelTimer=s.cancelTimer),St()}if("boolean"==typeof n.emojis&&(i.emojis=n.emojis),"string"==typeof n.emojiList&&(i.emojiListConfig=y(n.emojiList)),"boolean"==typeof n.uploadsEnabled&&(Se=n.uploadsEnabled,i.uploadsEnabled=n.uploadsEnabled),"boolean"==typeof n.confirmFormCloseEnabled&&(Te=n.confirmFormCloseEnabled),"boolean"==typeof n.charCountEnabled&&(je=n.charCountEnabled),"number"==typeof n.maxMessageLength&&(et=parseInt(n.maxMessageLength)),"boolean"==typeof n.unminimizeOnAlert&&(i.unminimizeOnAlert=n.unminimizeOnAlert),("object"==c(n.ariaCharRemainingIntervals)&&Array.isArray(n.ariaCharRemainingIntervals)||"boolean"==typeof n.ariaCharRemainingIntervals)&&!0!==n.ariaCharRemainingIntervals&&(at=n.ariaCharRemainingIntervals),("object"==c(n.ariaIdleAlertIntervals)&&Array.isArray(n.ariaIdleAlertIntervals)||"boolean"==typeof n.ariaIdleAlertIntervals)&&!0!==n.ariaIdleAlertIntervals&&(tt=n.ariaIdleAlertIntervals),"object"==c(n.async)){var o=n.async;"boolean"==typeof o.enabled&&(i.async.enabled=o.enabled),"string"==typeof o.newMessageRestoreState&&(i.async.newMessageRestoreState=o.newMessageRestoreState),"function"==typeof o.setSessionData&&"function"==typeof o.getSessionData&&(Ee=!0),Ie=n.cometD&&n.cometD.enabled&&i.async.enabled}if("object"==c(n.transport)&&"object"==c(n.transport.async)){var l=n.transport.async;"boolean"==typeof l.enabled&&(i.async.enabled=l.enabled),"string"==typeof l.newMessageRestoreState&&(i.async.newMessageRestoreState=l.newMessageRestoreState),"function"==typeof l.setSessionData&&"function"==typeof l.getSessionData&&(Ee=!0),Ie=l.enabled}if("object"==c(n.autoInvite)){var d=n.autoInvite;"boolean"==typeof d.enabled&&(i.proactive.enabled=d.enabled),"number"==typeof d.timeToInviteSeconds&&(i.proactive.idleTimer=d.timeToInviteSeconds),"number"==typeof d.inviteTimeoutSeconds&&(i.proactive.cancelTimer=d.inviteTimeoutSeconds),St()}if("object"!=c(n.form)||Array.isArray(n.form)||(S=n.form),"string"==typeof n.transferLink&&!0,"string"==typeof n.inviteLink&&!0,"string"==typeof n.timeFormat||"number"==typeof n.timeFormat){var p=parseInt(n.timeFormat);12!=p&&24!=p||(Je=p)}else Je=CXBus.data("App.timeFormat");"boolean"==typeof n.minimizeOnMobileRestore&&(i.minimizeOnMobileRestore=n.minimizeOnMobileRestore),"number"==typeof n.promptEndChatOnError&&(i.promptEndChatOnError=n.promptEndChatOnError),"number"==typeof n.endChatOnErrorThreshold&&(i.endChatOnErrorThreshold=n.endChatOnErrorThreshold),a.deferred.resolve()}else a.deferred.reject("Invalid configuration")})),v.registerCommand("minimize",(function(e){var a=e.data.minimized;J.hasClass("cx-dragged-off")?(J.attr("style",""),v.command("WindowManager.registerDockView",{html:J,draggable:!0})):fe&&!0!==a?(fe||!1===a)&&((ke||Ce)&&J.attr("aria-modal",!0),J.hasClass("cx-minimized")&&J.removeClass("cx-minimized").find(".cx-button-maximize.cx-icon").removeClass("cx-button-maximize").addClass("cx-button-minimize").attr("aria-label",w.AriaMinimize),fe=!1,t.deleteCookie(xt),t.deleteCookie(ut),Be=!1,v.publish("unminimized"),Ct("[role=alertdialog]").is(":visible")&&Ct("[role=alertdialog] .cx-btn-primary").is(":visible")&&Ct("[role=alertdialog] .cx-btn-primary").trigger("focus"),de&&Aa(),zt(),Ct(".cx-idle-dialog").is(":hidden")&&Ct(".cx-message-input").trigger("keyup"),Aa()):(k(),(ke||Ce)&&J.removeAttr("aria-modal"),J.addClass("cx-minimized").find(".cx-button-minimize.cx-icon").removeClass("cx-button-minimize").addClass("cx-button-maximize").attr("aria-label",w.AriaMaximize),fe=!0,t.getCookie(xt)||t.setCookie(xt,$e),v.publish("minimized")),Et(),de&&t.setCookie(dt,fe),e.deferred.resolve()})),v.registerCommand("endChat",(function(e){de?(ya(),e.deferred.resolve()):e.deferred.reject("there is no active chat session to end")})),v.registerCommand("invite",(function(a){se?a.deferred.reject("Chat is already open. Ignoring invite command."):(Dt(),A.chatButton.hideDuringInvite&&v.command("hideChatButton"),v.command("Toaster.open",{type:"generic",title:w.InviteTitle,body:w.InviteBody,icon:"chat",controls:"",buttons:{type:"binary",primary:w.InviteAccept,secondary:w.InviteReject}}).done((function(n){if(n.html){a.deferred.resolve(),K=e(n.html);var i=t.guid(),r="cx-toaster-title"+i,c="cx-toaster-body"+i;K.find(".cx-title").attr("id",r),K.find(".cx-body").attr("id",c),K.attr({"aria-labelledby":r,"aria-describedby":c}),K.find(".cx-btn.cx-btn-primary").attr("aria-label",w.AriaInviteAccept),K.find(".cx-btn.cx-btn-primary").on("keydown click",(function(e){t.validInput(e)&&(t.setCookie("_genesys.widgets.webchat.autoInvite.disabled",!0),v.command("Toaster.close").done((function(){v.command("open")})))})).trigger("focus"),K.find(".cx-btn.cx-btn-default").attr("aria-label",w.AriaInviteReject),K.find(".cx-btn.cx-btn-default").on("keydown click",(function(e){t.validInput(e)&&(t.setCookie("_genesys.widgets.webchat.autoInvite.disabled",!0),v.command("Toaster.close"),A.chatButton.enabled&&v.command("showChatButton"))}))}})).fail((function(e){})))})),v.registerCommand("reInvite",(function(a){if(!se&&A.inviteOnRestoreTimeout){Dt();var n=a.data&&a.data.statusCode?w.Errors[a.data.statusCode]:w.RestoreTimeoutBody;A.chatButton.hideDuringInvite&&v.command("hideChatButton"),v.command("Toaster.open",{type:"generic",title:w.RestoreTimeoutTitle,body:n,icon:"chat",controls:"close",buttons:{type:"binary",primary:w.RestoreTimeoutAccept,secondary:w.RestoreTimeoutReject}}).done((function(n){if(n.html){a.deferred.resolve();var i=e(n.html),r=t.guid(),c="cx-toaster-title"+r,s="cx-toaster-body"+r;i.find(".cx-title").attr("id",c),i.find(".cx-body").attr("id",s),i.attr({"aria-labelledby":c,"aria-describedby":s}),i.find(".cx-btn.cx-btn-primary").attr("aria-label",w.AriaRestoreTimeoutAccept),i.find(".cx-btn.cx-btn-default").attr("aria-label",w.AriaRestoreTimeoutReject),i.find(".cx-btn.cx-btn-primary").on("keydown click",(function(e){t.validInput(e)&&v.command("Toaster.close").done((function(){v.command("open")}))})).trigger("focus"),i.find(".cx-btn.cx-btn-default").on("keydown click",(function(e){t.validInput(e)&&(v.command("Toaster.close"),A.chatButton.enabled&&v.command("showChatButton"))}))}})).fail((function(e){}))}else a.deferred.reject("Chat is already open. Ignoring invite command.")})),v.registerCommand("injectMessage",(function(e){se&&(oe||le)?e.deferred.resolve(function(e,t,n,i,r){var s,o="";switch(e=(e+"").toLowerCase()||"text"){case"text":if("object"===(void 0===n?"undefined":c(n))&&n[0]&&n[0].outerHTML)o=n[0].outerHTML;else{if("string"!=typeof n)return!1;o=n}break;case"html":o=n;break;default:return!1}return s=ga({name:t,text:"text"==e&&Me?a(o,{sanitize:!0}):o,type:"injected",timestamp:(new Date).getTime(),bHTML:!("html"!=e&&!Me),bCustom:!!i,bubble:r||{direction:"none",radius:10,avatar:!1},restoring:!1}),Aa(),s}(e.data.type,e.data.name,e.data.text,e.data.custom,e.data.bubble)):e.deferred.reject("No chat session to inject into.")})),v.registerCommand("showOverlay",(function(t){if(se){var a=e();(a=Ct(!0===t.data.static?".cx-overlay.cx-static":".cx-overlay.cx-dynamic")).html(t.data.html||""),Wt(a,t.data.hideFooter||!1,t.data.mode||"fill"),t.deferred.resolve()}else t.deferred.reject("WebChat is not currently open. Ignoring command.")})),v.registerCommand("hideOverlay",(function(t){if(se){var a=e();(a=Ct(!0===t.data.static?".cx-overlay.cx-static":".cx-overlay.cx-dynamic")).html(t.data.html),$t(a),t.deferred.resolve()}else t.deferred.reject("WebChat is not currently open. Ignoring command.")})),v.registerCommand("showChatButton",(function(t){if(Dt(),A.chatButton.enabled&&!xe){var a=t.data&&"number"==typeof t.data.openDelay?parseInt(t.data.openDelay):A.chatButton.openDelay,n=t.data&&"number"==typeof t.data.duration?parseInt(t.data.duration):A.chatButton.effectDuration;Q.find(".i18n").each((function(){e(this).data("message")&&e(this).html(w[e(this).data("message")])})),Pe=setTimeout((function(){Pe=!1,v.command("WindowManager.registerSideButton",{template:Q.hide()}).done((function(e){if(0==n)Q.css({display:"inline-block",width:"auto"});else switch(A.chatButton.effect){case"slide":Q.css({display:"inline-block",width:"auto"});var a=Q.width()+"px";Q.css({width:0}),Q.animate({width:a},n,(function(){xe=!0,t.deferred.resolve()}));break;case"fade":Q.fadeIn(n,(function(){xe=!0,t.deferred.resolve()}));break;default:Q.css({display:"inline-block"}),xe=!0,t.deferred.resolve()}v.publish("chatButtonDisplayed")}))}),a)}else t.deferred.reject("Chat button is not enabled in the configuration, or already visible. Ignoring command.")})),v.registerCommand("hideChatButton",(function(e){if(xe||Pe){Pe&&clearTimeout(Pe);var t=e.data&&"number"==typeof e.data.duration?parseInt(e.data.duration):A.chatButton.effectDuration;if(0==t)Q.css({display:"none"}),Q.detach();else switch(A.chatButton.effect){case"slide":Q.animate({width:0},t,(function(){xe=!1,Q.detach(),e.deferred.resolve()}));break;case"fade":Q.fadeOut(t,(function(){Q.detach(),xe=!1,e.deferred.resolve()}));break;default:Q.css({display:"none"}),xe=!1,Q.detach(),e.deferred.resolve()}}else e.deferred.reject("Chat button is already hidden. Ignoring command.")})),v.subscribe("App.closeAll",(function(e){v.command("close")})),v.subscribe("App.theme",(function(e){v.command("App.reTheme",{html:J})})),v.subscribe("App.timeFormat",(function(e){Je=e.data.timeFormat})),v.subscribe("App.i18n",(function(e){"object"==c(e.data.webchat)&&(Dt(),J&&(Ct(".cx-title").text(w.ChatTitle),Ct(".cx-button-minimize").attr("aria-label",w.AriaMinimize),Ct(".cx-button-close").attr("aria-label",w.AriaClose)))})),v.subscribe("App.zoom",(function(e){"mobile"==e.data.layout?(Ce=!0,J.removeClass("cx-desktop").addClass("cx-mobile"),zt()):(Ce=!1,J.removeClass("cx-mobile").addClass("cx-desktop"),Ce||(J.removeClass("cx-portrait cx-landscape"),_e?Ct(".cx-transcript").css("height","312px"):(Ct(".cx-form-wrapper").css("height","auto"),Ct(".cx-footer").show()),Ct(".cx-overlay.cx-dynamic").css("height","auto")))})),v.subscribe("App.mobileMode",(function(){e(window).on("orientationchange",zt),e(window).on("resize",zt),zt(),ke=!0})),v.subscribe("App.ready",(function(){CXBus.command("RichMediaBridge.LOAD"),v.command(Ve+".LOAD"),v.command("App.registerI18n",{i18n:w,namespace:"webchat",lang:"en"}).always((function(){v.command("configure",_genesys.widgets.webchat),v.ready(),v.republish("ready")}))})),v.registerCommand("hide",(function(e){se&&!Le&&J?(Le=!0,J.hide(),e.deferred.resolve()):e.deferred.reject("WebChat is not open or is already hidden.")})),v.registerCommand("show",(function(e){se&&Le&&J?(Le=!1,J.show(),e.deferred.resolve()):e.deferred.reject("WebChat is not open or is already showing.")})),v.data("metadata",za({initialState:!0}))}}.apply(t,n))&&(e.exports=i)},"./webapp/plugins/cx-webchat/html/cx-loading.html":function(e,t){e.exports='<div class="cx-history-loading cx-loading-container" >\n    <div class="cx-loading-icon cx-icon" data-icon="loading" role="alert" aria-busy="true" aria-label="loading"></div>\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-alert.html":function(e,t){e.exports='<div role="alertdialog" aria-modal="true" aria-describedby="cx_chat_error_desc" class="cx-alert cx-general">\n\t<div class="cx-wrapper">\n\t\t<p id="cx_chat_error_desc" class="i18n"></p>\n\t\t<div class="cx-button-group cx-button-single">\n\t\t\t<button class="cx-error-button cx-btn cx-btn-primary i18n" data-message="ChatErrorButton"></button>\n\t\t</div>\n\t\t<div class="cx-button-group cx-buttons-binary">\n\t\t\t<button class="cx-error-button cx-btn cx-btn-default i18n" data-message="ChatErrorDefaultButton"></button>\n\t\t\t<button class="cx-error-button cx-btn cx-btn-primary i18n" data-message="ChatErrorPrimaryButton"></button>\n\t\t</div>\n\t</div>\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-async-close.html":function(e,t){e.exports='<div class="cx-alert cx-async-chat-end" id="cx_chat_async_close">\x3c!--Removed alertdialog since its parent div has the same--\x3e\n    <div class="cx-button-group cx-buttons-binary">\n        <button class="i18n cx-btn cx-btn-default" data-message="AsyncChatEnd"></button>\n        <button class="cx-btn cx-btn-primary cx-async-chat-close i18n" data-message="AsyncChatClose"></button>\n    </div>\n</div>\n'},"./webapp/plugins/cx-webchat/html/cx-webchat-chat-button.html":function(e,t){e.exports='<div class="cx-widget cx-webchat-chat-button cx-side-button" role="button" tabindex="0" data-message="ChatButton" data-gcb-service-node="true">\n\t<span class="cx-icon"></span>\n\t<span class="i18n cx-chat-button-label" data-message="ChatButton"></span>\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-emoji-menu-custom.html":function(e,t){e.exports='<div class="cx-emoji-selection-menu">\n\t<ul class="cx-emoji-table cx-theme" role="listbox">\n\t\t\n\t</ul>\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-emoji-menu.html":function(e,t){e.exports='<div class="cx-tooltip-menu">\n\t<ul class="cx-emoji-menu cx-theme" role="listbox">\n\t\t<li class="cx-option cx-smile" role="option" aria-posinset="1" aria-setsize="3" aria-label="smile emoji" data-unicode="&#128515;" data-ascii=":)" tabindex="0">&#128515;</li>\n\t\t<li class="cx-option cx-thumbsup" role="option" aria-posinset="2" aria-setsize="3" aria-label="thumbsup emoji" data-unicode="&#128077;" data-ascii="" tabindex="0">&#128077;</li>\n\t\t<li class="cx-option cx-sad" role="option" aria-posinset="3" aria-setsize="3" aria-label="sad emoji" data-unicode="&#128542;" data-ascii=":(" tabindex="0">&#128542;</li>\n\t</ul>\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-file-transfer-agent.html":function(e,t){e.exports='<div class="cx-message cx-them cx-NewTextBubble" tabindex="0">\r\n\r\n\t<div class="cx-avatar-wrapper">\r\n\t\t<div class="cx-avatar cx-avatar-customer"></div>\r\n\t</div>\r\n\t\r\n\t<div class="cx-bubble-arrow">\r\n\t\t<svg height="7" width="7" focusable="false">\r\n\t\t\t<polygon class="cx-left" points="0,0 7,0 7,7"></polygon>\r\n\t\t\t<polygon class="cx-right" points="0,0 0,7 7,0"></polygon>\r\n\t\t</svg>\r\n\t</div>\r\n\r\n\t<p class="cx-bubble cx-file-transfer-block">\r\n\t\t<span class="cx-user-detail">\r\n\t\t\t<span aria-hidden="true" class="cx-user-detail cx-name" data-message="name"></span>\r\n\t\t\t<span class="cx-message-text cx-filesentmsg i18n " data-message="FileSent"></span>\r\n\t\t\t<span class="cx-filename" data-message="filename"></span>\r\n\t\t</span>\r\n\t\t<span class="lastrow">\r\n\t\t\t<button class="cx-btn cx-btn-primary cx-download-btn i18n cx-submit" data-message="DownloadButton"></button>\r\n\t\t\t<span class="cx-filesize"></span>\r\n\t\t</span>\r\n\t\t<span class="cx-time"></span>  \r\n\t</p>\r\n\t\r\n</div>\r\n\r\n'},"./webapp/plugins/cx-webchat/html/cx-webchat-file-transfer-customer.html":function(e,t){e.exports='<div class="cx-message cx-you cx-NewTextBubble" tabindex="0">\r\n\r\n\t<p class="cx-bubble cx-file-transfer-block">\r\n\t\t<span class="cx-user-detail">\r\n\t\t\t<span aria-hidden="true" class="cx-user-detail cx-name" data-message="name"></span>\r\n\t\t\t<span class="cx-message-text cx-filesentmsg i18n " data-message="FileSent"></span>\r\n\t\t\t<span class="cx-filename" data-message="filename"></span>\r\n\t\t</span>\r\n\t\t<span class="cx-lastrow">\r\n\t\t\t<button class="cx-btn cx-btn-primary cx-download-btn i18n cx-submit" data-message="DownloadButton"></button>\r\n\t\t\t<span class="cx-filesize"></span>\r\n\t\t</span>\r\n\t\t<span class="cx-time"></span>  \r\n\t</p>\r\n\r\n\t<div class="cx-bubble-arrow">\r\n\t\t<svg height="7" width="7" focusable="false">\r\n\t\t\t<polygon class="cx-left" points="0,0 7,0 7,7"></polygon>\r\n\t\t\t<polygon class="cx-right" points="0,0 0,7 7,0"></polygon>\r\n\t\t</svg>\r\n\t</div>\r\n\r\n\t<div class="cx-avatar-wrapper">\r\n\t\t<div class="cx-avatar cx-avatar-customer"></div>\r\n\t</div>\r\n\r\n</div>\r\n'},"./webapp/plugins/cx-webchat/html/cx-webchat-message-agent.html":function(e,t){e.exports='<div class="cx-message" tabindex="0">\n\t\n\t<div class="cx-avatar-wrapper">\n\t\t<div class="cx-avatar"></div>\n\t</div>\t\n\n\t<div class="cx-bubble-arrow">\n\t\t<svg height="7" width="7" focusable="false">\n\t\t  <polygon class="cx-left" points="0,0 7,0 7,7" />\n\t\t  <polygon class="cx-right" points="0,0 0,7 7,0" />\n\t\t</svg>\n\t</div>\n\n\t<div class="cx-bubble">\n\t\t<span aria-hidden="true" class="cx-name"></span>\n\t\t<div class="aria-name cx-common-screen-reader" data-message="AriaTheySaid"></div>\n\t\t<div class="cx-message-text"></div>\n\t\t<span class="cx-time"></span>\n\t</div>\n\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-message-customer.html":function(e,t){e.exports='<div class="cx-message" tabindex="0">\n\t\n\t<div class="cx-bubble">\n\t\t<span aria-hidden="true" class="cx-name"></span>\n\t\t<div class="aria-name cx-common-screen-reader" data-message="AriaYouSaid"></div>\n\t\t<div class="cx-message-text"></div>\n\t\t<span class="cx-time"></span>\n\t</div>\n\n\t<div class="cx-bubble-arrow">\n\t\t<svg height="7" width="7" focusable="false">\n\t\t  <polygon class="cx-left" points="0,0 7,0 7,7" />\n\t\t  <polygon class="cx-right" points="0,0 0,7 7,0" />\n\t\t</svg>\n\t</div>\n\n\t<div class="cx-avatar-wrapper">\n\t\t<div class="cx-avatar"></div>\n\t</div>\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-spinner.html":function(e,t){e.exports='<div class="cx-spinner" role="alert" aria-busy="true" aria-label="uploading">\r\n    <div class="cx-spinner-container cx-fast-spinner cx-dark-background">\r\n        <div class="cx-spin-circle"></div>\r\n        <div class="cx-spin-inner-circle"></div>\r\n    </div>\r\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-toaster.html":function(e,t){e.exports='<div class="cx-webchat-toaster" tabindex="0">\n\t<div class="cx-message"><%= message %></div>\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-upload-failed-alert.html":function(e,t){e.exports='<div role="alertdialog" aria-modal="true" aria-describedby="cx_unsupported_file_upload_message" class="cx-alert">\r\n\t\t<div class="cx-wrapper">\r\n\t\t\t<div class="cx-warning" id="cx_unsupported_file_upload_message">\r\n\t\t\t\t<span class="cx-icon" role="img" aria-label="warning" data-icon="alert-triangle" ></span>\r\n\t\t\t\t<p class="cx-reason cx-theme-text"></p>\x3c!--WCAG: removed the tabindex as alert dialogue reads the text automatically--\x3e\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class="cx-button-group cx-buttons-single">\r\n\t\t\t\t<button class="cx-btn cx-btn-primary i18n cx-upload-cancel" data-message="FileTransferError"></button>\r\n\t\t\t</div>\r\n\t\t\t<div class="cx-button-group cx-buttons-binary">\r\n\t\t\t\t<button class="cx-btn cx-btn-default i18n cx-upload-cancel" data-message="FileTransferError"></button>\r\n\t\t\t\t<button class="cx-btn cx-btn-primary i18n cx-upload-confirm" data-message="FileTransferRetry"></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat.html":function(e,t){e.exports='<div>\n\n\t<div role="alert" class="cx-container cx-overlay cx-static"></div> \x3c!--Replacing role alertdialog to alert to make screen readers read the dynamically generated dom element. Note: role alertdialog needs focussable element that should exist in DOM on page load. --\x3e\n\n\t<div role="alertdialog" aria-modal="true" aria-describedby="cx_chat_information" class="cx-container cx-overlay cx-dynamic"></div>\n\n\t<div role="alertdialog" aria-describedby="cx_chat_async_close" class="cx-container cx-overlay cx-async"></div>\n\n\t<div role="alertdialog" aria-modal="true" aria-describedby="cx_chat_end_question" class="cx-alert cx-chat-end">\n\t\t<div class="cx-wrapper">\n\t\t\t<p id="cx_chat_end_question" class="i18n" data-message="ChatEndQuestion"></p>\n\t\t\t<div class="cx-button-group cx-buttons-binary">\n\t\t\t\t<button class="cx-end-cancel cx-btn cx-btn-default i18n" data-message="ChatEndCancel"></button>\n\t\t\t\t<button class="cx-end-confirm cx-btn cx-btn-primary i18n" data-message="ChatEndConfirm"></button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div role="alertdialog" aria-modal="true" aria-describedby="cx_chat_confirm_close" class="cx-alert cx-chat-close">\n\t\t<div class="cx-wrapper">\n\t\t\t<p class="i18n" id="cx_chat_confirm_close" data-message="ConfirmCloseWindow"></p> \x3c!--WCAG: removed tabindex as the role alert dialogue reads the text automatically--\x3e\n\t\t\t<div class="cx-button-group cx-buttons-binary">\n\t\t\t\t<button class="cx-close-cancel cx-btn cx-btn-default i18n" data-message="ConfirmCloseCancel"></button>\n\t\t\t\t<button class="cx-close-confirm cx-btn cx-btn-primary i18n" data-message="ConfirmCloseConfirm"></button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="cx-webchat-smokescreen"></div>\n\n\t<div class="cx-form-wrapper">\n\t\t<div class="cx-form cx-form-horizontal" role="form">\n\t\t\n\t\t\t<div class="cx-form-inputs"></div>\n\t\t\t\n\t\t\t<div class="cx-button-group cx-buttons-binary">\n\t\t\t\t<button class="cx-btn cx-btn-default i18n" data-message="ChatFormCancel"></button>\n\t\t\t\t<button class="cx-submit cx-btn cx-btn-primary i18n" data-message="ChatFormSubmit"></button>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>\n\n\t<div role="log" aria-live="off" class="cx-transcript" tabindex="0"></div>\n\t\n\t<div class="cx-input-container">\n\n\t\t\t<div class="cx-textarea-cell">\n\n\t\t\t\t<textarea class="cx-message-input cx-input i18n cx-form-control" id="cx_input" maxlength="" data-message="ChatInputPlaceholder" data-message-type="placeholder"></textarea>\x3c!-- added aria-label to satisfy the principle WCAG: 1.3.1, 3.3.2 --\x3e\n\n\t\t\t\t<div class="cx-send cx-icon i18n" data-icon="send" role="button" data-message="ChatInputSend" data-message-type="title" tabindex="0"></div>\n\n\t\t\t</div>\n\n\t\t\t<div class="cx-menu-cell">\n\t\t\t\t<div id="cx-emoji-status" role="status"></div>\n\t\t\t\t<ul class="cx-menu">\n\n\t\t\t\t\t<li class=\'cx-emoji cx-icon i18n\' data-icon="smiley" data-message="ActionsEmoji" data-message-type="title" tabindex="0" aria-haspopup="true"></li>\x3c!-- WCAG: if we dint keep aria-has popup , emoji menu wont open with screenreaders like JAWS/NVDA in IE--\x3e\n\n\t\t\t\t\t<li class=\'cx-upload cx-icon i18n\' data-icon="attach" data-message="ActionsSendFile" data-message-type="title" tabindex="0"></li> \x3c!-- removing role \'button\' from all the list items as per the principle \'WCAG: Best Practice\' and to satisfy the \'Rule ID: aria-allowed-role\' --\x3e\n\t\t\t\t\t<li class=\'cx-cobrowse cx-icon i18n\' data-icon="cobrowse" data-message="ActionsCobrowseStart" data-message-type="title" tabindex="0"></li>\n\t\t\t\t\t<li class=\'cx-char-count cx-inert\' id="cx-charCount" tabindex="0"></li>\n\n\t\t\t\t\t<li class=\'cx-icon cx-branding-icon cx-inert\' data-icon="branding" title="Powered by Genesys"></li>\n\t\t\t\t</ul>\n\n\t\t\t</div>\n\n\t\t\t<form class="cx-form-horizontal" data-async enctype="multipart/form-data" novalidate>\n\t\t\t\t<label for="cx_browse_file" style="display: none;"></label>\x3c!-- added for WCAG--\x3e\n\t\t\t\t<input type="file" id="cx_browse_file" class="cx-browseFile" style="display: none;"/>\n\t\t\t</form>\n\n\t\t\x3c!-- <button class="cx-send i18n" data-message="ChatSend"></button> --\x3e\n\t</div>\n\t<div class="cx-common-screen-reader" aria-hidden="true" id="cx_textarea_label"></div>\x3c!--WCAG adding this for message box aria-label and characters remaining announcement on focus--\x3e\n\t<div class="cx-common-screen-reader cx-screen-reader-transcript" aria-live="polite" aria-relevant="additions text" aria-atomic="false"></div>\n\n</div>'},"./webapp/plugins/cx-webchat/less/cx-webchat.less":function(e,t,a){var n=a("./node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./webapp/plugins/cx-webchat/less/cx-webchat.less");"string"==typeof n&&(n=[[e.i,n,""]]);var i={transform:void 0},r=a("./node_modules/style-loader/lib/addStyles.js")(n,i);n.locals&&(e.exports=n.locals),n.locals||e.hot.accept("./node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./webapp/plugins/cx-webchat/less/cx-webchat.less",(function(){var t=a("./node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./webapp/plugins/cx-webchat/less/cx-webchat.less");"string"==typeof t&&(t=[[e.i,t,""]]),r(t)})),e.hot.dispose((function(){r()}))},"./webapp/plugins/cx-webchat/nls/string.json":function(e,t){e.exports={ChatButton:"Chat",ChatStarted:"Chat Started",ChatEnded:"Chat Ended",AgentNameDefault:"Agent",AgentConnected:"<%Agent%> Connected",AgentDisconnected:"<%Agent%> Disconnected",BotNameDefault:"Bot",BotConnected:"<%Bot%> Connected",BotDisconnected:"<%Bot%> Disconnected",SupervisorNameDefault:"Supervisor",SupervisorConnected:"<%Agent%> Connected",SupervisorDisconnected:"<%Agent%> Disconnected",AgentTyping:"...",AriaAgentTyping:"Agent is typing",AgentUnavailable:"Sorry. There are no agents available. Please try later.",ChatTitle:"Live Chat",ChatEnd:"X",ChatClose:"X",ChatMinimize:"Min",ChatFormFirstName:"First Name",ChatFormLastName:"Last Name",ChatFormNickname:"Nickname",ChatFormEmail:"Email",ChatFormSubject:"Subject",ChatFormPlaceholderFirstName:"Required",ChatFormPlaceholderLastName:"Required",ChatFormPlaceholderNickname:"Optional",ChatFormPlaceholderEmail:"Optional",ChatFormPlaceholderSubject:"Optional",ChatFormSubmit:"Start Chat",AriaChatFormSubmit:"Start Chat",ChatFormCancel:"Cancel",AriaChatFormCancel:"Cancel Chat",ChatFormClose:"Close",ChatInputPlaceholder:"Type your message here",ChatInputSend:"Send",AriaChatInputSend:"Send",ChatEndQuestion:"Are you sure you want to end this chat session?",ChatEndCancel:"Cancel",ChatEndConfirm:"End chat",AriaChatEndCancel:"Cancel",AriaChatEndConfirm:"End",ConfirmCloseWindow:"Are you sure you want to close chat?",ConfirmCloseCancel:"Cancel",ConfirmCloseConfirm:"Close",AriaConfirmCloseCancel:"Cancel",AriaConfirmCloseConfirm:"Close",ActionsDownload:"Download transcript",ActionsEmail:"Email transcript",ActionsPrint:"Print transcript",ActionsCobrowseStart:"Start Co-browse",AriaActionsCobrowseStartTitle:"Opens the Co-browse session",ActionsSendFile:"Attach Files",AriaActionsSendFileTitle:"Opens a file upload dialog",ActionsEmoji:"Send Emoji",ActionsCobrowseStop:"Exit Co-browse",ActionsVideo:"Invite to Video Chat",ActionsTransfer:"Transfer",ActionsInvite:"Invite",InstructionsTransfer:"Open this link on another device to transfer your chat session</br></br><%link%>",InstructionsInvite:"Share this link with another person to add them to this chat session</br></br><%link%>",InviteTitle:"Need help?",InviteBody:"Let us know if we can help out.",InviteReject:"No thanks",InviteAccept:"Start chat",AriaInviteAccept:"Accept invite and start chat",AriaInviteReject:"Reject invite",ChatError:"There was a problem starting the chat session. Please retry.",ChatErrorButton:"OK",AriaChatErrorButton:"OK",ChatErrorPrimaryButton:"Yes",ChatErrorDefaultButton:"No",AriaChatErrorPrimaryButton:"Yes",AriaChatErrorDefaultButton:"No",DownloadButton:"Download",AriaDownloadButton:"Download the file",FileSent:"has sent:",FileTransferRetry:"Retry",AriaFileTransferRetry:"Retry the file transfer",FileTransferError:"OK",AriaFileTransferError:"OK",FileTransferCancel:"Cancel",AriaFileTransferCancel:"Cancel file transfer",RestoreTimeoutTitle:"Chat ended",RestoreTimeoutBody:"Your previous chat session has timed out. Would you like to start a new one?",RestoreTimeoutReject:"No thanks",RestoreTimeoutAccept:"Start chat",AriaRestoreTimeoutAccept:"Accept invite and start chat",AriaRestoreTimeoutReject:"Reject invite",EndConfirmBody:"Would you really like to end your chat session?",EndConfirmAccept:"End chat",EndConfirmReject:"Cancel",AriaEndConfirmAccept:"End chat",AriaEndConfirmReject:"Cancel",SurveyOfferQuestion:"Would you like to participate in a survey?",ShowSurveyAccept:"Yes",ShowSurveyReject:"No",AriaShowSurveyAccept:"Yes",AriaShowSurveyReject:"No",UnreadMessagesTitle:"unread",AriaYouSaid:"You said",AriaSaid:"said",AriaSystemSaid:"System said",AriaWindowLabel:"Live Chat Window",AriaMinimize:"Live Chat Minimize",AriaMaximize:"Live Chat Maximize",AriaClose:"Live Chat Close",AriaEmojiStatusOpen:"Emoji picker dialog is opened",AriaEmojiStatusClose:"Emoji picker dialog is closed",AriaEmoji:"emoji",AriaEmojiPicker:"Emoji Picker",AriaCharRemaining:"Characters remaining",AriaMessageInput:"Message box",AsyncChatEnd:"End Chat",AsyncChatClose:"Close Window",AriaAsyncChatEnd:"End Chat",AriaAsyncChatClose:"Close Window",DayLabels:["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],MonthLabels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],todayLabel:"Today",Errors:{102:"First name is required.",103:"Last name is required.",161:"Please enter your name.",201:"The file could not be sent.<br/><strong><p class='filename' title='<%FilenameFull%>'>'<%FilenameTruncated%>'</p></strong><p class='cx-advice'>The maximum number of attached files would be exceeded (<%MaxFilesAllowed%>).</p>",202:"The file could not be sent.<br/><strong><p class='filename' title='<%FilenameFull%>'>'<%FilenameTruncated%>'</p></strong><p class='cx-advice'>Upload limit and/or maximum number of attachments would be exceeded (<%MaxAttachmentsSize%>).</p>",203:"The file could not be sent.<br/><strong><p class='filename' title='<%FilenameFull%>'>'<%FilenameTruncated%>'</p></strong><p class='cx-advice'>File type is not allowed.</p>",204:"We're sorry but your message is too long. Please write a shorter message.",240:"We're sorry but we cannot start a new chat at this time. Please try again later.",364:"Invalid email address.",401:"We're sorry but we are not able to authorize the chat session. Would you like to start a new chat?",404:"We're sorry but we cannot find your previous chat session. Would you like to start a new chat?",500:"We're sorry, an unexpected error occurred with the service. Would you like to close and start a new Chat?",503:"We're sorry, the service is currently unavailable or busy. Would you like to close and start a new Chat again?",ChatUnavailable:"We're sorry but we cannot start a new chat at this time. Please try again later.",CriticalFault:"Your chat session has ended unexpectedly due to an unknown issue. We apologize for the inconvenience.",StartFailed:"There was an issue starting your chat session. Please verify your connection and that you submitted all required information properly, then try again.",MessageFailed:"Your message was not received successfully. Please try again.",RestoreFailed:"We're sorry but we were unable to restore your chat session due to an unknown error.",TransferFailed:"Unable to transfer chat at this time. Please try again later.",FileTransferSizeError:"The file could not be sent.<br/><strong><p class='filename' title='<%FilenameFull%>'>'<%FilenameTruncated%>'</p></strong><p class='cx-advice'>File size is larger than the allowed size (<%MaxSizePerFile%>).</p>",InviteFailed:"Unable to generate invite at this time. Please try again later.",ChatServerWentOffline:"Messages are currently taking longer than normal to get through. We're sorry for the delay.",RestoredOffline:"Messages are currently taking longer than normal to get through. We're sorry for the delay.",Disconnected:"<div style='text-align:center'>Connection lost</div>",Reconnected:"<div style='text-align:center'>Connection restored</div>",FileSendFailed:"The file could not be sent.<br/><strong><p class='filename' title='<%FilenameFull%>'><%FilenameTruncated%></p></strong><p class='cx-advice'>There was an unexpected disconnection. Try again?</p>",Generic:"<div style='text-align:center'>An unexpected error occurred.</div>","pureengage-v3-rest-INVALID_FILE_TYPE":"Invalid file type. Only Images are allowed.","pureengage-v3-rest-LIMIT_FILE_SIZE":"File size is larger than the allowed size.","pureengage-v3-rest-LIMIT_FILE_COUNT":"The maximum number of attached files exceeded the limit.","pureengage-v3-rest-INVALID_CONTACT_CENTER":"Invalid x-api-key transport configuration.","pureengage-v3-rest-INVALID_ENDPOINT":"Invalid endpoint transport configuration.","pureengage-v3-rest-INVALID_NICKNAME":"First Name is required.","pureengage-v3-rest-AUTHENTICATION_REQUIRED":"We're sorry but we are not able to authorize the chat session.","purecloud-v2-sockets-400":"Sorry, something went wrong. Please verify your connection and that you submitted all required information properly, then try again.","purecloud-v2-sockets-500":"We're are sorry, an unexpected error occurred with the service.","purecloud-v2-sockets-503":"We're sorry, the service is currently unavailable."}}}},["./webapp/plugins/cx-webchat/cx-webchat.js"]);